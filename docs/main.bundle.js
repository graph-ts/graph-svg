(()=>{"use strict";var e,t={6373:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Merriweather&family=Source+Sans+Pro&display=swap);"]),o.push([e.id,'html,body{margin:0;padding:0;width:100vw;height:100vh;overflow:hidden}svg{width:100%;height:100%}.container{font-family:"Source Sans Pro",sans-serif;font-weight:400;position:absolute;top:0;right:0;bottom:0;left:0;display:flex}.example{width:100%;height:100%}.sidebar{width:300px;height:100%;border-right:1px solid #999;flex:1 0 auto;display:flex;flex-direction:column}.sidebar .header{font-family:"Merriweather",serif;font-size:1.5rem;padding:.5em 1rem}.sidebar .button{padding:.35em 1em;font-size:1rem;border-top:1px solid #efefef}.sidebar .button:last-of-type{border-bottom:1px solid #efefef}.sidebar .selected{background-color:#4682b4;color:#fff}.button{display:flex;user-select:none;color:#333}.button.disabled{color:#ccc}.button:not(.disabled):hover{background-color:#4682b4;color:#fff;cursor:pointer}.button:not(.disabled):active{background-color:#356893}',""]);const i=o},262:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".button-bar{display:flex;flex-wrap:wrap;border-bottom:1px solid #999}.button-bar .button{padding:.1em .4em;border-left:1px solid #999;font-size:.9rem}.button-bar .button:first-of-type{border-left:none}.button-bar .button:last-of-type{border-right:1px solid #999}.button-bar .separator{width:0;border-right:4px solid #999}.button-bar .separator+.button{border-left:none}",""]);const i=o},5158:(e,t,n)=>{var r=n(5893),o=n(7294),i=n(3935),a=n(8452),s=n(6403),u=n(5141),d=n(2222);function c(e){return e.stroke||"none"}function l(e){return"arrow["+c(e)+"]"}var f,h=function(e,t){return e.graph.edges[t]},p=function(e,t){return e.graph.nodes[t]},v=function(e,t){return h(e,t).source},y=function(e,t){return h(e,t).target},g=n(5606),m=n(1419),S=n(5419),b=function(e,t,n){var r=(0,m.Z)(e,(0,a.VW)());return{graph:r,nodeIDs:(0,g.Z)(r.nodes),edgeIDs:(0,g.Z)(r.edges),spreadMatrix:(0,S.yR)()}},x=b(),D=(0,s.oM)({name:"graph",initialState:x,reducers:{graphChanged:function(e,t){e.graph=t.payload,e.nodeIDs=(0,g.Z)(e.graph.nodes),e.edgeIDs=(0,g.Z)(e.graph.edges)},nodesOffset:function(e,t){var n=t.payload,r=n.nodeIDs,o=n.offset;e.graph=(0,a.x9)(e.graph,r,o)},spreadMatrixChanged:function(e,t){e.spreadMatrix=t.payload}}}),_=(f=D.actions).graphChanged,I=f.nodesOffset,w=f.spreadMatrixChanged;const j=D.reducer;var Z=n(2151),O=function(e,t){return{nodeLabels:(0,Z.Z)((0,m.Z)(e,{})),edgeLabels:(0,Z.Z)((0,m.Z)(t,{}))}},M=O(),E=(0,s.oM)({name:"labels",initialState:M,reducers:{}});E.actions;const P=E.reducer;var k=function(e,t){return e.byID[t]||function(e){return e.defaultPath}(e)},C=function(e,t){return k(e,t).waypoints},T=n(5498),H=n(9432);function N(e,t){return e+":"+t}var W,z={type:"line"},L={fill:"none",stroke:"#333",strokeWidth:1,strokeLinecap:"square"},R={strokeWidth:2,cursor:"pointer"},A={strokeWidth:4},B={shape:"circle",radius:50,ports:{top:{id:"top",x:0,y:50},right:{id:"right",x:50,y:0},bottom:{id:"bottom",x:0,y:-50},left:{id:"left",x:-50,y:0}}},X={stroke:"#333",strokeWidth:1,fill:"white"},V={strokeWidth:2,cursor:"pointer"},F={strokeWidth:5},G={stroke:"none",fill:"coral",cursor:"grab"},Y={stroke:"coral",strokeWidth:10},$={stroke:"#333",strokeWidth:2},U=function(e,t){return{byID:(0,m.Z)(e,{}),defaultPath:(0,m.Z)(t,z)}},K=U(),q=(0,s.oM)({name:"paths",initialState:K,reducers:{defaultPathChanged:function(e,t){e.defaultPath=(0,m.Z)(t.payload,z)},waypointsOffset:function(e,t){var n=t.payload,r=n.waypointIDs,o=n.offset;r.forEach((function(t){var n=function(e){var t=e.lastIndexOf(":");if(-1===t)throw Error("Waypoint ID not associated with an index");return[e.substring(0,t),+e.substring(t+1)]}(t),r=n[0],i=n[1],a=C(e,r);if(a){var s=a[i];s&&(a[i]=(0,T.IH)(s,o))}}))}}}),J=(W=q.actions).defaultPathChanged,Q=W.waypointsOffset;const ee=q.reducer;var te,ne=function(e){return e.hoveredEdgeID},re=function(e){return e.hoveredNodeID},oe=function(e){return e.edgeIDs},ie=function(e){return e.nodeIDs},ae=(0,s.oM)({name:"selection",initialState:{edgeIDs:[],nodeIDs:[],waypointIDs:[],hoveredEdgeID:null,hoveredNodeID:null,hoveredWaypointID:null,dragOffset:{x:0,y:0}},reducers:{dragOffsetChanged:function(e,t){e.dragOffset=t.payload},selectionChanged:function(e,t){var n=t.payload,r=n.nodes,o=n.edges,i=n.waypoints;r&&(e.nodeIDs=r.selection,e.hoveredNodeID=r.hover),o&&(e.edgeIDs=o.selection,e.hoveredEdgeID=o.hover),i&&(e.waypointIDs=i.selection,e.hoveredWaypointID=i.hover)}}}),se=(te=ae.actions).dragOffsetChanged,ue=te.selectionChanged;const de=ae.reducer;var ce={},le=function(e,t){return e.byID[t]||function(e){return e.defaultShape}(e)},fe=function(e,t){return le(e,t).ports||ce},he=function(e,t){return{byID:(0,m.Z)(e,{}),defaultShape:(0,m.Z)(t,B)}},pe=he(),ve=(0,s.oM)({name:"shapes",initialState:pe,reducers:{defaultShapeChanged:function(e,t){e.defaultShape=(0,m.Z)(t.payload,B)}},extraReducers:function(e){}}),ye=ve.actions.defaultShapeChanged;const ge=ve.reducer;var me,Se=function(e,t){return e.nodeStyles[t]},be=function(e,t,n,r,o,i,s,u,d,c){var l={nodeDefs:{style:(0,m.Z)(t,{}),hovered:(0,m.Z)(n,{}),selected:(0,m.Z)(r,{})},edgeDefs:{style:(0,m.Z)(o,{}),hovered:(0,m.Z)(i,{}),selected:(0,m.Z)(s,{})},nodeStyles:{},edgeStyles:{},nodeDefault:{style:(0,m.Z)(null==u?void 0:u.style,X),hovered:(0,m.Z)(null==u?void 0:u.hovered,V),selected:(0,m.Z)(null==u?void 0:u.selected,F)},edgeDefault:{style:(0,m.Z)(null==d?void 0:d.style,L),hovered:(0,m.Z)(null==d?void 0:d.hovered,R),selected:(0,m.Z)(null==d?void 0:d.selected,A)},waypoint:{style:(0,m.Z)(null==c?void 0:c.style,G),hovered:(0,m.Z)(null==c?void 0:c.hovered,Y),selected:(0,m.Z)(null==c?void 0:c.selected,$)}};return e&&((0,a.v$)(e).forEach((function(e){return l.nodeStyles[e.id]=De(l,e.id,!1,!1)})),(0,a.W8)(e).forEach((function(e){return l.edgeStyles[e.id]=xe(l,e.id,!1,!1)}))),l};function xe(e,t,n,r){var o=function(e){return e.edgeDefault}(e),i=(0,m.Z)(function(e,t){return e.edgeDefs.style[t]}(e,t),o.style),a=n?(0,m.Z)(function(e,t){return e.edgeDefs.hovered[t]}(e,t),o.hovered):{},s=r?(0,m.Z)(function(e,t){return e.edgeDefs.selected[t]}(e,t),o.selected):{};return(0,H.Z)({},i,s,a)}function De(e,t,n,r){var o=function(e){return e.nodeDefault}(e),i=(0,m.Z)(function(e,t){return e.nodeDefs.style[t]}(e,t),o.style),a=n?(0,m.Z)(function(e,t){return e.nodeDefs.hovered[t]}(e,t),o.hovered):{},s=r?(0,m.Z)(function(e,t){return e.nodeDefs.selected[t]}(e,t),o.selected):{};return(0,H.Z)({},i,s,a)}var _e=be(),Ie=(0,s.oM)({name:"styles",initialState:_e,reducers:{edgeStyleDefaultsChanged:function(e,t){var n=t.payload,r=n.style,o=n.hovered,i=n.selected,a=n.selectionState,s=(0,g.Z)(e.edgeStyles),u=ne(a),d=new Set(oe(a));e.edgeDefault.style=(0,m.Z)(r,L),e.edgeDefault.hovered=(0,m.Z)(o,R),e.edgeDefault.selected=(0,m.Z)(i,A),s.forEach((function(t){var n=d.has(t),r=t===u;e.edgeStyles[t]=xe(e,t,r,n)}))},edgeStyleDefsChanged:function(e,t){var n=t.payload,r=n.style,o=n.hovered,i=n.selected,a=n.selectionState,s=(0,g.Z)(e.edgeStyles),u=ne(a),d=new Set(oe(a));e.edgeDefs.style=r,e.edgeDefs.hovered=o,e.edgeDefs.selected=i,s.forEach((function(t){var n=d.has(t),r=t===u;e.edgeStyles[t]=xe(e,t,r,n)}))},nodeStyleDefaultsChanged:function(e,t){var n=t.payload,r=n.style,o=n.hovered,i=n.selected,a=n.selectionState,s=(0,g.Z)(e.nodeStyles),u=re(a),d=new Set(ie(a));e.nodeDefault.style=(0,m.Z)(r,X),e.nodeDefault.hovered=(0,m.Z)(o,V),e.nodeDefault.selected=(0,m.Z)(i,F),s.forEach((function(t){var n=d.has(t),r=t===u;e.nodeStyles[t]=De(e,t,r,n)}))},nodeStyleDefsChanged:function(e,t){var n=t.payload,r=n.style,o=n.hovered,i=n.selected,a=n.selectionState,s=(0,g.Z)(e.nodeStyles),u=re(a),d=new Set(ie(a));e.nodeDefs.style=r,e.nodeDefs.hovered=o,e.nodeDefs.selected=i,s.forEach((function(t){var n=d.has(t),r=t===u;e.nodeStyles[t]=De(e,t,r,n)}))}},extraReducers:function(e){e.addCase(_,(function(e,t){var n=(0,a.v$)(t.payload),r=(0,a.W8)(t.payload);n.forEach((function(t){t.id in e.nodeStyles||(e.nodeStyles[t.id]=De(e,t.id,!1,!1))})),r.forEach((function(t){t.id in e.edgeStyles||(e.edgeStyles[t.id]=xe(e,t.id,!1,!1))}))})),e.addCase(ue,(function(e,t){var n=t.payload,r=n.nodes,o=n.edges;r&&r.updatedIDs.forEach((function(t,n){var o=r.updatedHoverStates[n],i=r.updatedSelectionStates[n];e.nodeStyles[t]=De(e,t,o,i)})),o&&o.updatedIDs.forEach((function(t,n){var r=o.updatedHoverStates[n],i=o.updatedSelectionStates[n];e.edgeStyles[t]=xe(e,t,r,i)}))}))}}),we=(me=Ie.actions).edgeStyleDefaultsChanged,je=me.edgeStyleDefsChanged,Ze=me.nodeStyleDefaultsChanged,Oe=me.nodeStyleDefsChanged;const Me=Ie.reducer;(0,s.xC)({reducer:{graph:j,labels:P,paths:ee,selection:de,shapes:ge,styles:Me},devTools:!1,middleware:[]});var Ee=function(e,t){return h(e.graph,t)},Pe=function(e,t){return v(e.graph,t)},ke=function(e,t){return y(e.graph,t)},Ce=function(e){return function(e){return e.spreadMatrix}(e.graph)},Te=function(e,t){return k(e.paths,t)},He=function(e){return function(e){return e.dragOffset}(e.selection)},Ne=function(e){return ne(e.selection)},We=function(e){return re(e.selection)},ze=function(e){return function(e){return e.hoveredWaypointID}(e.selection)},Le=function(e){return oe(e.selection)},Re=function(e){return ie(e.selection)},Ae=function(e){return function(e){return e.waypointIDs}(e.selection)},Be=function(e){return function(e){return e.waypoint}(e.styles)},Xe=n(2425),Ve=(0,d.createSelector)((function(e){return function(e){return e.edgeStyles}(e.styles)}),(function(e){return(0,Xe.Z)(e).map((function(e){return{id:l(e),color:c(e),size:10}}))})),Fe=function(){return(Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Ge=(0,o.memo)((function(e){var t=e.id,n=e.color,o=e.size,i=o/2;return(0,r.jsx)("marker",Fe({id:t,viewBox:"0 0 "+o+" "+o,refX:0,refY:i,markerWidth:o,markerHeight:o,markerUnits:"userSpaceOnUse",orient:"auto",fill:n},{children:(0,r.jsx)("path",{d:"M 0 0 L "+o+" "+i+" L 0 "+o+" z"},void 0)}),void 0)}));var Ye=function(){return(Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$e=function(){var e=(0,u.v9)(Ve);return(0,r.jsxs)("defs",{children:[e.map((function(e,t){return(0,r.jsx)(Ge,Ye({},e),t)})),(0,r.jsx)(Ge,{id:"arrow",size:10,color:"#333"},void 0)]},void 0)},Ue=n(8641),Ke=(0,d.createSelector)([function(e){return function(e){return e.edgeIDs}(e.graph)},Le],(function(e,t){return[(0,Ue.Z)(e,t),t]})),qe=n(4184),Je=n.n(qe),Qe=n(4692),et=function(e,t){return e(t)},tt=n(9142),nt=n(7925),rt=n(694),ot=n(5078),it=n(6540);function at(e,t){var n=Re(e);return t.map((function(e){return(0,nt.Z)(n,e)}))}function st(e,t){var n=Ae(e);return t.map((function(e){return(0,nt.Z)(n,e)}))}var ut=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function dt(e,t,n){var r=t(e),o=n(e);return r.length?{selection:[],hover:o,updatedIDs:r,updatedSelectionStates:r.map((function(e){return!1})),updatedHoverStates:r.map((function(e){return e===o}))}:void 0}function ct(e){return dt(e,Le,Ne)}function lt(e){return dt(e,Re,We)}function ft(e){return dt(e,Ae,ze)}function ht(e){return{nodes:yt(e,null),edges:vt(e,null),waypoints:gt(e,null)}}function pt(e,t){var n=Re(e),r=We(e),o=(0,tt.Z)(t,(function(e){return(0,nt.Z)(n,e)})),i=o[0],a=o[1],s=(0,Ue.Z)(n,i);return{nodes:{selection:t,hover:r,updatedIDs:ut(ut([],a),s),updatedSelectionStates:ut(ut([],a.map((function(e){return!0}))),s.map((function(e){return!1}))),updatedHoverStates:ut(ut([],a.map((function(e){return e===r}))),s.map((function(e){return e===r})))},edges:ct(e),waypoints:ft(e)}}function vt(e,t){var n=Ne(e);if(n!==t){var r=(0,m.Z)(t,n),o=Le(e);return{selection:o,hover:t,updatedIDs:[r],updatedSelectionStates:[(0,nt.Z)(o,r)],updatedHoverStates:[null!==t]}}}function yt(e,t){var n=We(e);if(n!==t){var r=(0,m.Z)(t,n),o=Re(e);return{selection:o,hover:t,updatedIDs:[r],updatedSelectionStates:[(0,nt.Z)(o,r)],updatedHoverStates:[null!==t]}}}function gt(e,t){var n=ze(e);if(n!==t){var r=(0,m.Z)(t,n),o=Ae(e);return{selection:o,hover:t,updatedIDs:[r],updatedSelectionStates:[(0,nt.Z)(o,r)],updatedHoverStates:[null!==t]}}}function mt(e,t){var n=Re(e),r=at(e,t);if((0,rt.Z)(r))return{nodes:lt(e)};var o=(0,ot.Z)((0,it.Z)(t,r).map((function(e){var t=e[0];return e[1]?void 0:t}))),i=We(e);return{nodes:{selection:ut(ut([],n),o),hover:i,updatedIDs:o,updatedSelectionStates:o.map((function(e){return!0})),updatedHoverStates:o.map((function(e){return e===i}))}}}const St=function(e){return function(t,n,r,o){if(0===o.button)if(o.altKey){e.dragStart(o);var i=Ee(t,r),a=[i.source,i.target],s=at(t,a);o.shiftKey?n(ue(mt(t,a))):(0,rt.Z)(s)||n(ue(pt(t,a)))}else o.shiftKey?n(ue(function(e,t){var n=Le(e),r=function(e,t){var n=Le(e);return t.map((function(e){return(0,nt.Z)(n,e)}))}(e,t);if((0,rt.Z)(r))return{edges:ct(e)};var o=(0,ot.Z)((0,it.Z)(t,r).map((function(e){var t=e[0];return e[1]?void 0:t}))),i=Ne(e);return{edges:{selection:ut(ut([],n),o),hover:i,updatedIDs:o,updatedSelectionStates:o.map((function(e){return!0})),updatedHoverStates:o.map((function(e){return e===i}))}}}(t,[r]))):n(ue(function(e,t){var n=Le(e),r=Ne(e),o=(0,tt.Z)(t,(function(e){return(0,nt.Z)(n,e)})),i=o[0],a=o[1],s=(0,Ue.Z)(n,i);return{nodes:lt(e),edges:{selection:t,hover:r,updatedIDs:ut(ut([],a),s),updatedSelectionStates:ut(ut([],a.map((function(e){return!0}))),s.map((function(e){return!1}))),updatedHoverStates:ut(ut([],a.map((function(e){return e===r}))),s.map((function(e){return e===r})))},waypoints:ft(e)}}(t,[r])))}};var bt=(0,s.PH)("mouse/downed"),xt=(0,s.PH)("mouse/downedEdge"),Dt=(0,s.PH)("mouse/downedNode"),_t=(0,s.PH)("mouse/downedWaypoint"),It=(0,s.PH)("mouse/enteredEdge"),wt=(0,s.PH)("mouse/enteredNode"),jt=(0,s.PH)("mouse/enteredWaypoint"),Zt=(0,s.PH)("mouse/leftEdge"),Ot=(0,s.PH)("mouse/leftNode"),Mt=(0,s.PH)("mouse/leftWaypoint"),Et=(0,s.PH)("mouse/moved"),Pt=(0,s.PH)("mouse/upped"),kt=(0,s.PH)("mouse/wheeled"),Ct=(0,s.PH)("mouse/spreadTargetSet"),Tt=function(e,t){var n=(0,Qe.Z)(et,16,{leading:!0,trailing:!1}),r=!!e.interactions,o=null,i=function(e){o&&o.setAttribute("transform",(0,S.BB)(e))},a=function(e){return function(t,n,r){e.dragStart(r);var o=Re(t),i=Le(t),a=Ae(t);(o.length||i.length||a.length)&&n(ue(function(e){return{nodes:lt(e),edges:ct(e),waypoints:ft(e)}}(t)))}}(t),s=St(t),u=function(e){return function(t,n,r,o){if(0===o.button){e.dragStart(o);var i=at(t,[r]);o.shiftKey?n(ue(mt(t,[r]))):i[0]||n(ue(pt(t,[r])))}}}(t),d=function(e){return function(t,n,r,o){if(0===o.button){e.dragStart(o);var i=st(t,[r]);o.shiftKey?n(ue(function(e,t){var n=Ae(e),r=st(e,t);if((0,rt.Z)(r))return{waypoints:ft(e)};var o=(0,ot.Z)((0,it.Z)(t,r).map((function(e){var t=e[0];return e[1]?void 0:t}))),i=ze(e);return{waypoints:{selection:ut(ut([],n),o),hover:i,updatedIDs:o,updatedSelectionStates:o.map((function(e){return!0})),updatedHoverStates:o.map((function(e){return e===i}))}}}(t,[r]))):i[0]||n(ue(function(e,t){var n=Ae(e),r=ze(e),o=(0,tt.Z)(t,(function(e){return(0,nt.Z)(n,e)})),i=o[0],a=o[1],s=(0,Ue.Z)(n,i);return{nodes:lt(e),edges:ct(e),waypoints:{selection:t,hover:r,updatedIDs:ut(ut([],a),s),updatedSelectionStates:ut(ut([],a.map((function(e){return!0}))),s.map((function(e){return!1}))),updatedHoverStates:ut(ut([],a.map((function(e){return e===r}))),s.map((function(e){return e===r})))}}}(t,[r])))}}}(t),c=function(e){return function(t,n,r,o){e.isDragging()||n(ue(o?function(e,t){return{nodes:yt(e,null),edges:vt(e,t),waypoints:gt(e,null)}}(t,o):ht(t)))}}(t),l=function(e){return function(t,n,r,o){e.isDragging()||n(ue(o?function(e,t){return{nodes:yt(e,t),edges:vt(e,null),waypoints:gt(e,null)}}(t,o):ht(t)))}}(t),f=function(e){return function(t,n,r,o){e.isDragging()||n(ue(o?function(e,t){return{nodes:yt(e,null),edges:vt(e,null),waypoints:gt(e,t)}}(t,o):ht(t)))}}(t),h=function(e,t,n){return function(r,o,i){e.isDragging()&&(function(e){return function(e){return e.nodeIDs.length||e.waypointIDs.length}(e.selection)}(r)?t(o,se(e.dragOffset(i))):n(e.translate(i)))}}(t,n,i),p=function(e,t,n){var r=n;return Object.assign((function(n,o,i){if(t.cancel(),e.isDragging()){var a=e.dragEnd(i);if(o(se({x:0,y:0})),r){var s=Re(n);!s.length||0===a.x&&0===a.y||r(s,a)}else o(I({nodeIDs:Re(n),offset:a})),o(Q({waypointIDs:Ae(n),offset:a}))}}),{setOnSelectionDidMove:function(e){r=e}})}(t,n,e.onSelectionDidMove),v=function(e,t){return function(n,r,o){o.shiftKey?r(w(e.spread(o))):t(e.zoom(o))}}(t,i),y=function(e){return function(t,n,r){n(w(e.setSpread(r)))}}(t),g=function(e){return function(t){return function(n){var o=n.payload,i=e.getState(),g=r;Et.match(n)?g&&h(i,t,o):kt.match(n)?g&&v(i,t,o):bt.match(n)?g&&a(i,t,o):xt.match(n)?g&&s(i,t,o.edgeID,o.event):Dt.match(n)?g&&u(i,t,o.nodeID,o.event):_t.match(n)?g&&d(i,t,o.waypointID,o.event):It.match(n)?g&&c(i,t,o.edgeID,o.edgeID):wt.match(n)?g&&l(i,t,o.nodeID,o.nodeID):jt.match(n)?g&&f(i,t,o.waypointID,o.waypointID):Zt.match(n)?g&&c(i,t,o.edgeID,null):Ot.match(n)?g&&l(i,t,o.nodeID,null):Mt.match(n)?g&&f(i,t,o.waypointID,null):Pt.match(n)?g&&p(i,t,o):Ct.match(n)?g&&y(i,t,o):t(n)}}};return g.setInteractions=function(e){r=e},g.setOnSelectionDidMove=function(e){p.setOnSelectionDidMove(e)},g.setZoom=function(e){i(t.setZoom(e))},g.setZoomElement=function(e){o=e},g},Ht=n(5879),Nt=n.n(Ht),Wt=n(1494),zt=n(7829),Lt=n(4849),Rt=n(7018),At=n(5125),Bt=n(8143),Xt=n(5165),Vt=n(6732),Ft=n(7059);function Gt(e){return e.stroke&&"none"!==e.stroke?+(0,m.Z)(e.strokeWidth,1):0}function Yt(e,t){return{a:e,b:t}}function $t(e,t){var n=e.a,r=e.b,o=t.a,i=t.b,a=((i.x-o.x)*(n.y-o.y)-(i.y-o.y)*(n.x-o.x))/((i.y-o.y)*(r.x-n.x)-(i.x-o.x)*(r.y-n.y));return{x:n.x+a*(r.x-n.x),y:n.y+a*(r.y-n.y)}}function Ut(e,t,n,r,o){switch(n.shape){case"circle":return function(e,t,n,r,o){return(0,T.Iu)(e,(0,T.EU)(t),n+r/2+o)}(e,t,+n.radius,r,o);case"rectangle":return function(e,t,n,r,o,i){var a,s=(0,T.EU)(t),u=n+o+2*Math.abs(Math.cos(s))*i,d=r+o+2*Math.abs(Math.sin(s))*i,c=u/2,l=d/2,f=(0,T.Iu)(e,s,Math.max(u,d)),h=Yt(e,f),p=((a=h).a.y-a.b.y)/(a.a.x-a.b.x),v=p*c,y=l/p,g={x:e.x+c,y:e.y+l},m={x:e.x-c,y:e.y+l},S={x:e.x+c,y:e.y-l},b={x:e.x-c,y:e.y-l};if(-l<=v&&v<=l){if(e.x<f.x)return $t(Yt(g,S),h);if(e.x>f.x)return $t(Yt(m,b),h)}if(-c<=y&&y<=c){if(e.y<f.y)return $t(Yt(m,g),h);if(e.y>f.y)return $t(Yt(b,S),h)}return e}(e,t,+n.width,+n.height,r,o)}return e}var Kt=function(e,t){return t},qt=Nt()(Pe,Re,(function(e,t){return(0,nt.Z)(t,e)}))(Kt),Jt=(0,Ht.createCachedSelector)((function(e,t){return function(e,t){return p(e,v(e,t))}(e.graph,t)}),Ce,(function(e,t){return(0,S.hC)(t,e)}))(Kt),Qt=Nt()(Jt,qt,He,(function(e,t,n){return t?(0,T.IH)(e,n):e}))(Kt),en=Nt()(ke,Re,(function(e,t){return(0,nt.Z)(t,e)}))(Kt),tn=Nt()((function(e,t){return function(e,t){return p(e,y(e,t))}(e.graph,t)}),Ce,(function(e,t){return(0,S.hC)(t,e)}))(Kt),nn=Nt()(tn,en,He,(function(e,t,n){return t?(0,T.IH)(e,n):e}))(Kt),rn=n(1429),on=[],an=Nt()((function(e,t){return C(e.paths,t)}),(function(e){return(0,m.Z)(e,on)}))(Kt),sn=Nt()(Kt,an,Ae,(function(e,t,n){return t.map((function(t,r){return(0,nt.Z)(n,N(e,r))}))}))(Kt),un=Nt()(an,Ce,(function(e,t){return(0,S.qU)(t,e)}))(Kt),dn=Nt()(un,sn,He,(function(e,t,n){return(0,rn.Z)(t)?e.map((function(e,r){return t[r]?(0,T.IH)(e,n):e})):e}))(Kt),cn=Nt()(Qt,nn,dn,(function(e,t){return Te(e,t).sourcePort}),(function(e,t){return le(e.shapes,Pe(e,t))}),(function(e,t){return fe(e.shapes,Pe(e,t))}),(function(e,t){return Se(e.styles,Ee(e,t).source)}),(function(e,t,n,r,o,i,a){if(r)return(0,T.IH)(e,i[r]);var s=(0,m.Z)(n[0],t);return Ut(e,(0,T.$X)(s,e),o,Gt(a),0)}))(Kt),ln=Nt()(Qt,nn,dn,(function(e,t){return Te(e,t).targetPort}),(function(e,t){return le(e.shapes,ke(e,t))}),(function(e,t){return fe(e.shapes,ke(e,t))}),(function(e,t){return Se(e.styles,Ee(e,t).target)}),(function(e,t,n,r,o,i,a){if(r)return(0,T.IH)(t,i[r]);var s=(0,m.Z)(n[n.length-1],e);return Ut(t,(0,T.$X)(s,t),o,Gt(a),0)}))(Kt),fn=function(){return(fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const hn=(0,o.memo)((function(e){return(0,r.jsx)("text",fn({x:e.x,y:e.y,style:e.style},e.props,{children:e.text}),void 0)}));var pn=function(){return(pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const vn=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.v9)((function(e){return function(e,t){return function(e,t){return e.edgeLabels[t]}(e.labels,t)}(e,t)})),o=(0,u.v9)((function(e){return cn(e,t)})),i=(0,u.v9)((function(e){return ln(e,t)}));if(!n)return null;var a=(0,T.Y8)(o,i);return(0,r.jsx)(r.Fragment,{children:n.map((function(e,t){return(0,r.jsx)(hn,pn({x:a.x,y:a.y},e),t)}))},void 0)}));var yn=n(3639),gn=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},mn=Nt()(cn,dn,ln,(function(e,t,n){return gn(gn([e],t),[n])}))(Kt),Sn=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};const bn=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.v9)((function(e){return Te(e,t)})),i=(0,u.v9)((function(e){return function(e,t){return function(e,t){return e.edgeStyles[t]}(e.styles,t)}(e,t)})),a=(0,u.v9)((function(e){return mn(e,t)})),s=(0,o.useRef)(null),d=(0,o.useRef)(null),c=(0,o.useMemo)((function(){return(0,yn.Z)(i,"stroke","strokeWidth")}),[i]),f=(0,o.useMemo)((function(){return function(e){var t=(0,Wt.Z)().x((function(e){return e.x})).y((function(e){return e.y}));switch(e.type){case"bspline":t.curve(zt.ZP);break;case"bundle":t.curve(Lt.Z.beta((0,m.Z)(e.beta,.85)));break;case"cardinal":t.curve(Rt.ZP.tension((0,m.Z)(e.tension,0)));break;case"catmullrom":t.curve(At.Z.alpha((0,m.Z)(e.alpha,.5)));break;case"line":t.curve(Bt.Z);break;case"monotonex":t.curve(Xt.Z);break;case"monotoney":t.curve(Xt.s);break;case"natural":t.curve(Vt.Z);break;case"step":t.curve(Ft.ZP);break;case"stepafter":t.curve(Ft.cD);break;case"stepbefore":t.curve(Ft.RN);break;default:t.curve(Bt.Z)}return t}(n)}),[n]),h=(0,o.useMemo)((function(){return(0,m.Z)(f(a),"")}),[f,a]);return(0,o.useLayoutEffect)((function(){var e=s.current,t=d.current;if(e&&t){var n=e.getTotalLength(),r=e.getPointAtLength(n-10);t.setAttribute("d",(0,m.Z)(f(Sn(Sn([],a.slice(0,-1)),[r])),""))}})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{ref:d,style:i,markerEnd:"url(#"+l(i)+")"},void 0),(0,r.jsx)("path",{ref:s,d:h,style:c,stroke:"transparent",strokeWidth:11},void 0)]},void 0)})),xn=(0,o.memo)((function(e){var t=e.waypointID,n=e.waypoint,i=e.selected,a=(0,u.I0)(),s=(0,o.useState)(!1),d=s[0],c=s[1],l=(0,u.v9)(Be),f=(0,o.useMemo)((function(){return function(e,t,n){return(0,H.Z)({},e.style,t?e.selected:{},n?e.hovered:{})}(l,i,d)}),[l,i,d]),h=(0,o.useCallback)((function(e){e.stopPropagation(),a(_t({waypointID:t,event:e.nativeEvent}))}),[a]),p=(0,o.useCallback)((function(e){c(!0),e.stopPropagation(),a(jt({waypointID:t,event:e.nativeEvent}))}),[a]),v=(0,o.useCallback)((function(e){c(!1),a(Mt({waypointID:t,event:e.nativeEvent}))}),[a]);return(0,r.jsx)("circle",{cx:n.x,cy:n.y,r:3,style:f,onMouseDown:h,onMouseEnter:p,onMouseLeave:v},void 0)}));var Dn=function(){return(Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const _n=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.v9)((function(e){return dn(e,t)})),o=(0,u.v9)((function(e){return sn(e,t)}));return n&&0!==n.length?(0,r.jsx)("g",Dn({className:"waypoints"},{children:n.map((function(e,n){return(0,r.jsx)(xn,{waypointID:N(t,n),waypoint:e,selected:o[n]},n)}))}),void 0):null}));var In=function(){return(In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const wn=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.I0)(),i=(0,u.v9)((function(e){return Ne(e)===t})),a=(0,o.useCallback)((function(e){n(xt({edgeID:t,event:e.nativeEvent}))}),[]),s=(0,o.useCallback)((function(e){n(It({edgeID:t,event:e.nativeEvent}))}),[]),d=(0,o.useCallback)((function(e){n(Zt({edgeID:t,event:e.nativeEvent}))}),[]),c=(0,o.useMemo)((function(){return Je()("edge",{hovered:i})}),[i]);return(0,r.jsxs)("g",In({id:t,className:c,onMouseDown:a,onMouseEnter:s,onMouseLeave:d},{children:[(0,r.jsx)(bn,{edgeID:t},void 0),(0,r.jsx)(_n,{edgeID:t},void 0),(0,r.jsx)(vn,{edgeID:t},void 0)]}),void 0)}));var jn=function(){return(jn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Zn=(0,o.memo)((function(e){var t=e.edgeIDs;return(0,r.jsx)("g",jn({className:"selected"},{children:t.map((function(e){return(0,r.jsx)(wn,{edgeID:e},e)}))}),void 0)}));var On=function(){return(On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Mn=(0,o.memo)((function(){var e=(0,u.v9)(Ke),t=e[0],n=e[1];return(0,r.jsxs)("g",On({className:"edges"},{children:[t.map((function(e){return(0,r.jsx)(wn,{edgeID:e},e)})),(0,r.jsx)(Zn,{edgeIDs:n},void 0)]}),void 0)}));var En=(0,d.createSelector)([function(e){return function(e){return e.nodeIDs}(e.graph)},Re],(function(e,t){return[(0,Ue.Z)(e,t),t]})),Pn=function(){return(Pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const kn=(0,o.memo)((function(e){var t=e.nodeID,n=(0,u.v9)((function(e){return function(e,t){return function(e,t){return e.nodeLabels[t]}(e.labels,t)}(e,t)}));return n?(0,r.jsx)(r.Fragment,{children:n.map((function(e,t){return(0,r.jsx)(hn,Pn({},e),t)}))},void 0):null})),Cn=(0,o.memo)((function(e){var t=e.radius,n=e.style;return(0,r.jsx)("circle",{r:t,style:n},void 0)})),Tn=(0,o.memo)((function(e){var t=e.width,n=e.height,o=e.style,i=+t,a=+n;return(0,r.jsx)("rect",{x:-i/2,y:-a/2,width:i,height:a,style:o},void 0)}));var Hn=function(){return(Hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Nn=(0,o.memo)((function(e){var t=e.nodeID,n=(0,u.v9)((function(e){return function(e,t){return le(e.shapes,t)}(e,t)})),o=(0,u.v9)((function(e){return function(e,t){return Se(e.styles,t)}(e,t)}));switch(n.shape){case"circle":return(0,r.jsx)(Cn,Hn({style:o},n),void 0);case"rectangle":return(0,r.jsx)(Tn,Hn({style:o},n),void 0)}return null}));var Wn=function(){return(Wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const zn=(0,o.memo)((function(e){var t=e.nodeID,n=(0,u.I0)(),i=(0,u.v9)((function(e){return function(e,t){return p(e.graph,t)}(e,t)})),a=(0,u.v9)((function(e){return We(e)===t})),s=(0,u.v9)(Ce),d=(0,o.useMemo)((function(){return Je()("node",{hovered:a})}),[a]),c=(0,o.useMemo)((function(){var e=(0,S.hC)(s,i);return"translate("+e.x+" "+e.y+")"}),[i.x,i.y,s]),l=(0,o.useCallback)((function(e){n(Dt({nodeID:t,event:e.nativeEvent}))}),[]),f=(0,o.useCallback)((function(e){n(wt({nodeID:t,event:e.nativeEvent}))}),[]),h=(0,o.useCallback)((function(t){n(Ot({nodeID:e.nodeID,event:t.nativeEvent}))}),[]);return(0,r.jsxs)("g",Wn({id:t,transform:c,className:d,onMouseDown:l,onMouseEnter:f,onMouseLeave:h},{children:[(0,r.jsx)(Nn,{nodeID:t},void 0),(0,r.jsx)(kn,{nodeID:t},void 0)]}),void 0)}));var Ln=function(){return(Ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Rn=(0,o.memo)((function(e){var t=(0,u.v9)(He);return(0,r.jsx)("g",Ln({className:"selected",transform:"translate("+t.x+" "+t.y+")"},{children:e.nodeIDs.map((function(e){return(0,r.jsx)(zn,{nodeID:e,selected:!0},e)}))}),void 0)}));var An=function(){return(An=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Bn=(0,o.memo)((function(){var e=(0,u.v9)(En),t=e[0],n=e[1];return(0,r.jsxs)("g",An({className:"nodes"},{children:[t.map((function(e){return(0,r.jsx)(zn,{nodeID:e,selected:!1},e)})),(0,r.jsx)(Rn,{nodeIDs:n},void 0)]}),void 0)}));var Xn;!function(e){e.Node="node",e.Edge="edge",e.Waypoint="waypoint"}(Xn||(Xn={}));var Vn=function(){function e(e,t){this._dragging=!1,this._dragStart={x:0,y:0},this._spreadTransform=(0,S.yR)(),this._spreadTransformInv=(0,S.SO)(this._spreadTransform),this._zoomTransform=(0,S.yR)(),this._zoomTransformInv=(0,S.SO)(this._zoomTransform),this._hoverTarget=null,this._hoverType=null,this._svg=e,this._scaleFactor=t,this._pt=e.createSVGPoint()}return e.prototype.dragEnd=function(e){this._dragging=!1;var t=(0,S.vs)(this._spreadTransformInv,this._zoomTransformInv);return(0,T.$X)((0,S.hC)(t,Fn(e)),(0,S.hC)(t,this._dragStart))},e.prototype.dragOffset=function(e){return(0,T.$X)((0,S.hC)(this._zoomTransformInv,Fn(e)),(0,S.hC)(this._zoomTransformInv,this._dragStart))},e.prototype.dragStart=function(e){this._dragStart.x=e.clientX,this._dragStart.y=e.clientY,this._dragging=!0},e.prototype.getZoom=function(){return this._zoomTransform},e.prototype.hoverEdge=function(e){this._hoverTarget=e,this._hoverType=Xn.Edge},e.prototype.hoverNode=function(e){this._hoverTarget=e,this._hoverType=Xn.Node},e.prototype.hoverNothing=function(){this._hoverTarget=null,this._hoverType=null},e.prototype.hoverWaypoint=function(e){this._hoverTarget=e,this._hoverType=Xn.Waypoint},e.prototype.hoveredEdgeID=function(){return this._hoverType===Xn.Edge?this._hoverTarget:null},e.prototype.hoveredNodeID=function(){return this._hoverType===Xn.Node?this._hoverTarget:null},e.prototype.hoveredWaypointID=function(){return this._hoverType===Xn.Waypoint?this._hoverTarget:null},e.prototype.isDragging=function(){return this._dragging},e.prototype.setSpread=function(e){return this._spreadTransform=e,this._spreadTransformInv=(0,S.SO)(e),e},e.prototype.setZoom=function(e){return this._zoomTransform=e,this._zoomTransformInv=(0,S.SO)(e),e},e.prototype.translate=function(e){var t=this._toLocalCoordinates(e.clientX,e.clientY),n=this._toLocalCoordinates(e.clientX+e.movementX,e.clientY+e.movementY),r=(0,T.$X)(n,t),o=r.x,i=r.y;return this._zoomTransform=(0,S.vs)([this._zoomTransform,(0,S.Iu)(o,i)]),this._zoomTransform},e.prototype.spread=function(e){if(0===e.deltaX)return this._spreadTransform;var t=e.deltaX<0?this._scaleFactor:1/this._scaleFactor,n=(0,S.hC)((0,S.vs)(this._spreadTransformInv,this._zoomTransformInv),this._toSVGCoordinates(e.clientX,e.clientY)),r=n.x,o=n.y;return this._spreadTransform=(0,S.vs)(this._spreadTransform,(0,S.bA)(t,t,r,o)),this._spreadTransformInv=(0,S.SO)(this._spreadTransform),this._spreadTransform},e.prototype.zoom=function(e){if(0===e.deltaY)return this._zoomTransform;var t=e.deltaY<0?this._scaleFactor:1/this._scaleFactor,n=this._toLocalCoordinates(e.clientX,e.clientY),r=n.x,o=n.y;return this._zoomTransform=(0,S.vs)(this._zoomTransform,(0,S.bA)(t,t,r,o)),this._zoomTransformInv=(0,S.SO)(this._zoomTransform),this._zoomTransform},e.prototype._toLocalCoordinates=function(e,t){return(0,S.hC)(this._zoomTransformInv,this._toSVGCoordinates(e,t))},e.prototype._toSVGCoordinates=function(e,t){var n=this._svg.getScreenCTM();if(n){this._pt.x=e,this._pt.y=t;var r=this._pt.matrixTransform(n.inverse());return{x:r.x,y:r.y}}return{x:e,y:t}},e}();function Fn(e){return{x:e.clientX,y:e.clientY}}var Gn,Yn=(Gn=function(e,t){return(Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Gn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$n=function(){return($n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Un=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Kn=function(e){function t(t){var n=e.call(this,t)||this;n._initializePreloadedState=function(e){return{graph:b(e.graph),labels:O(e.nodeLabels,e.edgeLabels),paths:U(e.edgePaths,e.defaultPath),selection:{edgeIDs:[],nodeIDs:[],waypointIDs:[],hoveredEdgeID:null,hoveredNodeID:null,hoveredWaypointID:null,dragOffset:{x:0,y:0}},shapes:he(e.nodeShapes,e.defaultShape),styles:be(e.graph,e.nodeStyles,e.nodeStylesHovered,e.nodeStylesSelected,e.edgeStyles,e.edgeStylesHovered,e.edgeStylesSelected,{style:e.defaultNodeStyle,hovered:e.defaultNodeStyleHovered,selected:e.defaultNodeStyleSelected},{style:e.defaultEdgeStyle,hovered:e.defaultEdgeStyleHovered,selected:e.defaultEdgeStyleSelected})}},n._onMouseDown=function(e){e.target===n.props.svg&&n.store.dispatch(bt(e))},n._onMouseMove=function(e){n.store.dispatch(Et(e))},n._onMouseUp=function(e){n.store.dispatch(Pt(e))},n._onMouseWheel=function(e){n.store.dispatch(kt(e))},n._setRef=function(e){n.mouse.setZoomElement(e)},n._updateCallbacks=function(e,t){e.onSelectionDidMove!==t.onSelectionDidMove&&n.mouse.setOnSelectionDidMove(t.onSelectionDidMove)},n._updateDefaultPath=function(e,t){e.defaultPath!==t.defaultPath&&n.store.dispatch(J(t.defaultPath))},n._updateDefaultShape=function(e,t){e.defaultShape!==t.defaultShape&&n.store.dispatch(ye(t.defaultShape))},n._updateDefaultStyles=function(e,t,r){var o=e.defaultNodeStyle!==t.defaultNodeStyle,i=e.defaultNodeStyleHovered!==t.defaultNodeStyleHovered,a=e.defaultNodeStyleSelected!==t.defaultNodeStyleSelected,s=e.defaultEdgeStyle!==t.defaultEdgeStyle,u=e.defaultEdgeStyleHovered!==t.defaultEdgeStyleHovered,d=e.defaultEdgeStyleSelected!==t.defaultEdgeStyleSelected;(o||i||a)&&n.store.dispatch(Ze({style:t.defaultNodeStyle,hovered:t.defaultNodeStyleHovered,selected:t.defaultNodeStyleSelected,selectionState:r.selection})),(s||u||d)&&n.store.dispatch(we({style:t.defaultEdgeStyle,hovered:t.defaultEdgeStyleHovered,selected:t.defaultEdgeStyleSelected,selectionState:r.selection}))},n._updateEdgeStyles=function(e,t,r){var o=e.edgeStyles!==t.edgeStyles,i=e.edgeStylesHovered!==t.edgeStylesHovered,a=e.edgeStylesSelected!==t.edgeStylesSelected;(o||i||a)&&n.store.dispatch(je({style:t.edgeStyles||{},hovered:t.edgeStylesHovered||{},selected:t.edgeStylesSelected||{},selectionState:r.selection}))},n._updateInteractionDisabled=function(e,t){e.interactions!==t.interactions&&n.mouse.setInteractions(!!t.interactions)},n._updateGraph=function(e,t){e.graph!==t.graph&&n.store.dispatch(_(t.graph))},n._updateNodeStyles=function(e,t,r){var o=e.nodeStyles!==t.nodeStyles,i=e.nodeStylesHovered!==t.nodeStylesHovered,a=e.nodeStylesSelected!==t.nodeStylesSelected;(o||i||a)&&n.store.dispatch(Oe({style:t.nodeStyles||{},hovered:t.nodeStylesHovered||{},selected:t.nodeStylesSelected||{},selectionState:r.selection}))},n._updateZoom=function(e,t){e.targetZoom!==t.targetZoom&&t.targetZoom&&n.mouse.setZoom(t.targetZoom),e.targetSpread!==t.targetSpread&&t.targetSpread&&n.store.dispatch(Ct(t.targetSpread))};var r=!1;return n.gesture=new Vn(t.svg,1.035),n.mouse=Tt(t,n.gesture),n.store=(0,s.xC)({reducer:{graph:j,labels:P,paths:ee,selection:de,shapes:ge,styles:Me},preloadedState:n._initializePreloadedState(t),middleware:Un([],(0,s.Bx)({immutableCheck:r,serializableCheck:r}).prepend(n.mouse)),devTools:r}),n}return Yn(t,e),t.prototype.componentDidMount=function(){this.props.svg.addEventListener("mousedown",this._onMouseDown),this.props.svg.addEventListener("mousemove",this._onMouseMove),this.props.svg.addEventListener("mouseup",this._onMouseUp),this.props.svg.addEventListener("wheel",this._onMouseWheel)},t.prototype.componentDidUpdate=function(e){var t=e,n=this.props,r=this.store.getState();this._updateGraph(t,n),this._updateCallbacks(t,n),this._updateDefaultPath(t,n),this._updateDefaultShape(t,n),this._updateDefaultStyles(t,n,r),this._updateEdgeStyles(t,n,r),this._updateInteractionDisabled(t,n),this._updateNodeStyles(t,n,r),this._updateZoom(t,n)},t.prototype.componentWillUnmount=function(){this.props.svg.removeEventListener("mousedown",this._onMouseDown),this.props.svg.removeEventListener("mousemove",this._onMouseMove),this.props.svg.removeEventListener("mouseup",this._onMouseUp),this.props.svg.removeEventListener("wheel",this._onMouseWheel)},t.prototype.render=function(){return(0,r.jsx)(u.zt,$n({store:this.store},{children:(0,r.jsxs)("g",$n({ref:this._setRef},{children:[(0,r.jsx)($e,{},void 0),(0,r.jsx)(Mn,{},void 0),(0,r.jsx)(Bn,{},void 0)]}),void 0)}),void 0)},t}(o.Component);const qn=(0,o.memo)(Kn);var Jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(){return(Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},er=function(e){function t(t){var n=e.call(this,t)||this;n._resize=function(){var e=n.ref.current;if(e){var t=getComputedStyle(e),r=parseInt(t.getPropertyValue("width")),o=parseInt(t.getPropertyValue("height"));n.state.width===r&&n.state.height===o||n.setState({width:r,height:o})}};var r=function(e,t){for(var n=[{id:"0",x:0,y:0}],r=[],o=0;o++<10;)n.push({id:""+o,x:300*Math.cos(2*o*Math.PI/10),y:300*Math.sin(2*o*Math.PI/10)}),r.push({id:"0:"+o,source:"0",target:""+o}),o-1>0&&r.push({id:o-1+":"+o,source:""+(o-1),target:""+o}),10===o&&r.push({id:o+":1",source:""+o,target:"1"});return(0,a.VW)(n,r)}(),i={};return(0,a.v$)(r).forEach((function(e){i[e.id]=[{text:e.id}]})),n.ref=o.createRef(),n.state={graph:r,nodeLabels:i,width:0,height:0},n}return Jn(t,e),t.prototype.componentDidMount=function(){this._resize()},t.prototype.render=function(){var e=this.state.graph,t=this.state.nodeLabels,n=this.state.width,o=this.state.height,i=this.ref;return(0,r.jsx)("svg",Qn({viewBox:-n/2+" "+-o/2+" "+n+" "+o,preserveAspectRatio:"xMidYMid slice",ref:i},{children:i.current&&(0,r.jsx)(qn,{graph:e,svg:i.current,nodeLabels:t,interactions:!0},void 0)}),void 0)},t}(o.Component),tr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},rr=function(e){function t(t){var n=e.call(this,t)||this;n._resize=function(){var e=n.ref.current;if(e){var t=getComputedStyle(e),r=parseInt(t.getPropertyValue("width")),o=parseInt(t.getPropertyValue("height"));n.state.width===r&&n.state.height===o||n.setState({width:r,height:o})}},n._onNodeHovered=function(e){},n._onEdgeHovered=function(e){},n.ref=o.createRef();var r=or(),i={},s={},u={},d={},c={},l={},f=(0,a.v$)(r),h=(0,a.W8)(r);return f.forEach((function(e){u[e.id]=[{text:e.label,style:{fill:"white",fontFamily:"monospace",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"-0.17em"}},{text:"("+e.sig+")",style:{fill:"#ddd",fontFamily:"monospace",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"0.83em"}}],d[e.id]={fill:"Green"===e.label?"mediumseagreen":"steelblue"},c[e.id]={stroke:"lightsteelblue",strokeWidth:3,cursor:"pointer"},l[e.id]={stroke:"#333",strokeWidth:6}})),h.forEach((function(e){i[e.id]=[{text:e.rel,style:{fill:"#333",fontFamily:"monospace",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"0.33em"}}]})),s["Ship->GreenTransponder"]={type:"natural",waypoints:[{x:-100,y:0}]},n.state={graph:or(),width:0,height:0,edgeLabels:i,edgePaths:s,nodeLabels:u,nodeStyles:d,nodeStylesHovered:c,nodeStylesSelected:l},n}return tr(t,e),t.prototype.componentDidMount=function(){this._resize()},t.prototype.render=function(){var e=this.state,t=e.graph,n=e.width,o=e.height,i=this.ref;return(0,r.jsx)("svg",nr({viewBox:-n/2+" "+-o/2+" "+n+" "+o,preserveAspectRatio:"xMidYMid slice",style:{userSelect:"none"},ref:i},{children:i.current&&(0,r.jsx)(qn,{graph:t,svg:i.current,interactions:!0,edgeLabels:this.state.edgeLabels,edgePaths:this.state.edgePaths,nodeLabels:this.state.nodeLabels,nodeStyles:this.state.nodeStyles,nodeStylesHovered:this.state.nodeStylesHovered,nodeStylesSelected:this.state.nodeStylesSelected,onNodeHovered:this._onNodeHovered,onEdgeHovered:this._onEdgeHovered},void 0)}),void 0)},t}(o.Component);function or(){return(0,a.VW)([{id:"Ship",x:0,y:-150,sig:"Ship",label:"Ship"},{id:"GreenTransponder",x:-300,y:150,sig:"Transponder",label:"Green"},{id:"BlueTransponder",x:0,y:150,sig:"Transponder",label:"Blue"},{id:"BlueStation",x:300,y:150,sig:"Station",label:"Blue"}],[{id:"Ship->GreenTransponder",source:"Ship",target:"GreenTransponder",rel:"transponders"},{id:"Ship->BlueTransponder",source:"Ship",target:"BlueTransponder",rel:"transponders"},{id:"Ship->BlueStation",source:"Ship",target:"BlueStation",rel:"location"}])}var ir=function(){return(ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const ar=(0,o.memo)((function(e){var t=(0,o.useRef)(null),n=(0,o.useRef)(null),i=function(e){var t=(0,o.useState)(),n=t[0],r=t[1];return(0,o.useLayoutEffect)((function(){var t=e.current;if(t){r(t.getBoundingClientRect());var n=new ResizeObserver((function(t){t.forEach((function(t){t.target===e.current&&r(t.contentRect)}))}));return n.observe(t),function(){n.unobserve(t)}}}),[e]),n}(t),a=(0,o.useMemo)((function(){return null==i?void 0:i.width}),[i]),s=(0,o.useMemo)((function(){return null==i?void 0:i.height}),[i]),u=(0,o.useMemo)((function(){return a&&s?-a/2+" "+-s/2+" "+a+" "+s:void 0}),[a,s]);return(0,r.jsx)("div",ir({ref:t,style:{width:"100%",height:"100%"}},{children:(0,r.jsx)("svg",ir({ref:n,viewBox:u,preserveAspectRatio:"xMidYMid slice"},{children:n.current&&a&&s&&(0,r.jsx)(qn,ir({svg:n.current},e),void 0)}),void 0)}),void 0)}));function sr(e,t){var n={};t=(0,m.Z)(t,{fill:"#333",textAnchor:"middle",userSelect:"none",cursor:"pointer"});var r={dy:"0.33em"};return e.forEach((function(e){n[e.id]=[{text:e.id,style:t,props:r}]})),n}var ur=function(){var e=(0,a.VW)([{id:"A",x:-200,y:0},{id:"B",x:200,y:0}],[{id:"AB",source:"A",target:"B"},{id:"BA",source:"B",target:"A"}]),t=(0,a.v$)(e),n=(0,a.W8)(e),o=sr(t),i=function(e,t,n){var r={},o=function(t){var n=(0,a.Mk)(e,t.source),r=(0,a.Mk)(e,t.target);if(n&&r){var o=(0,T.$X)(r,n),i=(0,T.kE)(o),s=(0,T.mJ)(o),u=(0,T.IH)(n,(0,T.cf)(s,.5*i)),d=(0,T.xq)(s);return(0,T.IH)(u,(0,T.cf)(d,(0,m.Z)(undefined,75)))}return null};return t.forEach((function(e){r[e.id]={type:"bundle",waypoints:(0,ot.Z)([o(e)])}})),r}(e,n),s=sr(n);return i.AB.sourcePort="right",i.AB.targetPort="left",i.BA.sourcePort="left",i.BA.targetPort="right",(0,r.jsx)(ar,{graph:e,interactions:!0,nodeLabels:o,edgePaths:i,edgeLabels:s},void 0)},dr=n(3379),cr=n.n(dr),lr=n(262);cr()(lr.Z,{insert:"head",singleton:!1}),lr.Z.locals;var fr=function(){return(fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},hr=function(e){return(0,r.jsx)("div",fr({className:"button-bar"},{children:e.children}),void 0)},pr=function(e){return(0,r.jsx)("div",fr({className:Je()("button",{disabled:e.disabled}),onClick:function(){!0!==e.disabled&&e.onClick()}},{children:e.children}),void 0)},vr=function(){return(0,r.jsx)("div",{className:"separator"},void 0)},yr=n(2023),gr=n.n(yr);function mr(){return{stroke:gr()(),fill:gr()()}}var Sr=function(){return(Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},br=function(){var e=(0,o.useState)((0,a.VW)()),t=e[0],n=e[1],i=(0,o.useState)("0"),s=i[0],u=i[1],d=(0,o.useState)(!1),c=d[0],l=d[1],f=(0,o.useState)({}),h=f[0],p=f[1],v=(0,o.useState)({}),y=v[0],g=v[1],m=(0,o.useState)(),b=m[0],x=m[1],D=(0,o.useState)(),_=D[0],I=D[1],w=(0,o.useState)(!0),j=w[0],Z=w[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(hr,{children:[(0,r.jsx)(pr,Sr({onClick:function(){u(""+(+s+1)),n((0,a.gz)(t,{id:s,x:800*Math.random()-400,y:800*Math.random()-400})),(0,a.v$)(t).length>0&&l(!0)}},{children:"Add Random Node"}),void 0),(0,r.jsx)(pr,Sr({onClick:function(){var e=(0,a.v$)(t),r=(0,a.W8)(t),o=e.length,i=r.length,d=o*(o-1);if(o>1&&i<d)for(var c=0;c++<1e3;){var f=xr(e.length),h=f[0],p=f[1],v=e[h],y=e[p];if(!(0,a.kI)(t,v.id,y.id)){u(""+(+s+1)),n((0,a.Z_)(t,{id:s,source:v.id,target:y.id})),i===d-1&&l(!1);break}}},disabled:!c},{children:"Add Random Edge"}),void 0),(0,r.jsx)(vr,{},void 0),(0,r.jsx)(pr,Sr({onClick:function(){var e={};(0,a.v$)(t).forEach((function(t){e[t.id]=mr()})),p(e)}},{children:"Random Node Styles"}),void 0),(0,r.jsx)(pr,Sr({onClick:function(){var e={};(0,a.W8)(t).forEach((function(t){e[t.id]={stroke:gr()(),fill:"none"}})),g(e)}},{children:"Random Edge Styles"}),void 0),(0,r.jsx)(vr,{},void 0),(0,r.jsx)(pr,Sr({onClick:function(){x((0,S.yR)())}},{children:"Reset Spread"}),void 0),(0,r.jsx)(pr,Sr({onClick:function(){I((0,S.yR)())}},{children:"Reset Zoom"}),void 0),(0,r.jsx)(pr,Sr({onClick:function(){Z(!j)}},{children:(j?"Disable":"Enable")+" Interaction"}),void 0)]},void 0),(0,r.jsx)(ar,{graph:t,nodeStyles:h,edgeStyles:y,interactions:j,onSelectionDidMove:function(e,r){n((0,a.x9)(t,e,r))},targetSpread:b,targetZoom:_},void 0)]},void 0)};function xr(e){if(e>1){for(var t=Math.floor(e*Math.random()),n=0,r=t;n++<1e3&&r===t;)r=Math.floor(e*Math.random());return[t,r]}throw Error("Not enough indices")}var Dr=function(){return(Dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_r=function(){var e=(0,o.useState)(mr()),t=e[0],n=e[1],i=(0,a.VW)([{id:"a",x:100*Math.cos(2*Math.PI/3),y:100*Math.sin(2*Math.PI/3)},{id:"b",x:100*Math.cos(4*Math.PI/3),y:100*Math.sin(4*Math.PI/3)},{id:"c",x:100*Math.cos(6*Math.PI/3),y:100*Math.sin(6*Math.PI/3)}],[{id:"ab",source:"a",target:"b"},{id:"bc",source:"b",target:"c"},{id:"ca",source:"c",target:"a"}]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(hr,{children:(0,r.jsx)(pr,Dr({onClick:function(){n(mr())}},{children:"Random Default Style"}),void 0)},void 0),(0,r.jsx)(ar,{graph:i,defaultShape:{shape:"circle",radius:10},defaultNodeStyle:t},void 0)]},void 0)},Ir=function(){return(Ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wr=n(6373);cr()(wr.Z,{insert:"head",singleton:!1}),wr.Z.locals,i.render((0,r.jsx)(o.StrictMode,{children:(0,r.jsx)((function(e){var t=(0,o.useState)(4),n=t[0],i=t[1],a=[[0,er],[1,rr],[2,ur],[3,br],[4,_r]],s=a[n][1];return(0,r.jsxs)("div",Ir({className:"container"},{children:[(0,r.jsxs)("div",Ir({className:"sidebar"},{children:[(0,r.jsx)("div",Ir({className:"header"},{children:"Graph SVG Examples"}),void 0),a.map((function(e){var t=e[0],o=(e[1],"button "+(t===n?"selected":""));return(0,r.jsxs)("div",Ir({className:o,onClick:function(){return i(t)}},{children:["Example ",t]}),t)}))]}),void 0),(0,r.jsx)("div",Ir({className:"example"},{children:(0,r.jsx)(s,{},void 0)}),void 0)]}),void 0)}),{},void 0)},void 0),document.getElementById("root"))}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],s=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(s=!1,i<a&&(a=i));s&&(e.splice(d--,1),t=o())}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,s,u]=n,d=0;for(o in s)r.o(s,o)&&(r.m[o]=s[o]);for(u&&u(r),t&&t(n);d<a.length;d++)i=a[d],r.o(e,i)&&e[i]&&e[i][0](),e[a[d]]=0;r.O()},n=self.webpackChunk_graph_ts_graph_svg=self.webpackChunk_graph_ts_graph_svg||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[795],(()=>r(5158)));o=r.O(o)})();