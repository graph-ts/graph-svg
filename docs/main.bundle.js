(()=>{"use strict";var e,t={7912:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Merriweather&family=Source+Sans+Pro&display=swap);"]),o.push([e.id,'.container{font-family:"Source Sans Pro",sans-serif;font-weight:400;position:absolute;top:0;right:0;bottom:0;left:0;display:flex}.sidebar{width:300px;height:100%;border-right:1px solid #999;flex:1 0 auto;display:flex;flex-direction:column}.sidebar .header{font-family:"Merriweather",serif;font-size:1.5rem;padding:.5em 1rem}.button{display:flex;user-select:none;color:#333}.button.disabled{color:#ccc}.button:not(.disabled):hover{background-color:#4682b4;color:#fff;cursor:pointer}.button:not(.disabled):active{background-color:#356893}.sidebar .button{padding:.35em 1em;font-size:1rem;border-top:1px solid #efefef}.sidebar .button:last-of-type{border-bottom:1px solid #efefef}.sidebar .selected{background-color:#4682b4;color:#fff}.example{width:100%;height:100%}svg{width:100%;height:100%}',""]);const i=o},6373:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"html,body{margin:0;padding:0;width:100vw;height:100vh;overflow:hidden}",""]);const i=o},262:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".button-bar{display:flex;flex-wrap:wrap;border-bottom:1px solid #999}.button-bar .button{padding:.1em .4em;border-left:1px solid #999;font-size:.9rem}.button-bar .button:first-of-type{border-left:none}.button-bar .button:last-of-type{border-right:1px solid #999}.button-bar .separator{width:0;border-right:4px solid #999}.button-bar .separator+.button{border-left:none}",""]);const i=o},1944:(e,t,n)=>{var r=n(5893),o=n(7294),i=n(3935),s=n(8452),a=n(6403),u=n(5141),c=n(2222);function d(e){return e.stroke||"none"}function l(e){return"arrow["+d(e)+"]"}var f,p=function(e,t){return e.graph.edges[t]},h=function(e,t){return e.graph.nodes[t]},v=function(e,t){return p(e,t).source},g=function(e,t){return p(e,t).target},y=n(5606),m=n(1419),S=n(5419),b=function(e,t,n){var r=(0,m.Z)(e,(0,s.VW)());return{graph:r,nodeIDs:(0,y.Z)(r.nodes),edgeIDs:(0,y.Z)(r.edges),spreadMatrix:(0,S.yR)()}},x=b(),_=(0,a.oM)({name:"graph",initialState:x,reducers:{graphChanged:function(e,t){e.graph=t.payload,e.nodeIDs=(0,y.Z)(e.graph.nodes),e.edgeIDs=(0,y.Z)(e.graph.edges)},nodesOffset:function(e,t){var n=t.payload,r=n.nodeIDs,o=n.offset;e.graph=(0,s.x9)(e.graph,r,o)},spreadMatrixChanged:function(e,t){e.spreadMatrix=t.payload}}}),D=(f=_.actions).graphChanged,w=f.nodesOffset,I=f.spreadMatrixChanged;const j=_.reducer;var Z=n(2151),O=function(e,t){return{nodeLabels:(0,Z.Z)((0,m.Z)(e,{})),edgeLabels:(0,Z.Z)((0,m.Z)(t,{}))}},M=O(),k=(0,a.oM)({name:"labels",initialState:M,reducers:{}});k.actions;const P=k.reducer;var E=function(e,t){return e.byID[t]||function(e){return e.defaultPath}(e)},C=function(e,t){return E(e,t).waypoints},T=n(5498),H=n(9432);function W(e,t){return e+":"+t}var z,L={type:"line"},N={fill:"none",stroke:"#333",strokeWidth:1,strokeLinecap:"square"},A={strokeWidth:2,cursor:"pointer"},B={strokeWidth:4},R={shape:"circle",radius:50,ports:{top:{id:"top",x:0,y:50},right:{id:"right",x:50,y:0},bottom:{id:"bottom",x:0,y:-50},left:{id:"left",x:-50,y:0}}},X={stroke:"#333",strokeWidth:1,fill:"white"},Y={strokeWidth:2,cursor:"pointer"},F={strokeWidth:5},$={stroke:"none",fill:"coral",cursor:"grab"},G={stroke:"coral",strokeWidth:10},V={stroke:"#333",strokeWidth:2},U=function(e,t){return{byID:(0,m.Z)(e,{}),defaultPath:(0,m.Z)(t,L)}},K=U(),q=(0,a.oM)({name:"paths",initialState:K,reducers:{defaultPathChanged:function(e,t){e.defaultPath=(0,m.Z)(t.payload,L)},waypointsOffset:function(e,t){var n=t.payload,r=n.waypointIDs,o=n.offset;r.forEach((function(t){var n=function(e){var t=e.lastIndexOf(":");if(-1===t)throw Error("Waypoint ID not associated with an index");return[e.substring(0,t),+e.substring(t+1)]}(t),r=n[0],i=n[1],s=C(e,r);if(s){var a=s[i];a&&(s[i]=(0,T.IH)(a,o))}}))}}}),J=(z=q.actions).defaultPathChanged,Q=z.waypointsOffset;const ee=q.reducer;var te,ne=function(e){return e.hoveredEdgeID},re=function(e){return e.hoveredNodeID},oe=function(e){return e.edgeIDs},ie=function(e){return e.nodeIDs},se=(0,a.oM)({name:"selection",initialState:{edgeIDs:[],nodeIDs:[],waypointIDs:[],hoveredEdgeID:null,hoveredNodeID:null,hoveredWaypointID:null,dragOffset:{x:0,y:0}},reducers:{dragOffsetChanged:function(e,t){e.dragOffset=t.payload},selectionChanged:function(e,t){var n=t.payload,r=n.nodes,o=n.edges,i=n.waypoints;r&&(e.nodeIDs=r.selection,e.hoveredNodeID=r.hover),o&&(e.edgeIDs=o.selection,e.hoveredEdgeID=o.hover),i&&(e.waypointIDs=i.selection,e.hoveredWaypointID=i.hover)}}}),ae=(te=se.actions).dragOffsetChanged,ue=te.selectionChanged;const ce=se.reducer;var de={},le=function(e,t){return e.byID[t]||function(e){return e.defaultShape}(e)},fe=function(e,t){return le(e,t).ports||de},pe=function(e,t){return{byID:(0,m.Z)(e,{}),defaultShape:(0,m.Z)(t,R)}},he=pe(),ve=(0,a.oM)({name:"shapes",initialState:he,reducers:{defaultShapeChanged:function(e,t){e.defaultShape=(0,m.Z)(t.payload,R)}},extraReducers:function(e){}}),ge=ve.actions.defaultShapeChanged;const ye=ve.reducer;var me,Se=function(e,t){return e.nodeStyles[t]},be=function(e,t,n,r,o,i,a,u,c,d){var l={nodeDefs:{style:(0,m.Z)(t,{}),hovered:(0,m.Z)(n,{}),selected:(0,m.Z)(r,{})},edgeDefs:{style:(0,m.Z)(o,{}),hovered:(0,m.Z)(i,{}),selected:(0,m.Z)(a,{})},nodeStyles:{},edgeStyles:{},nodeDefault:{style:(0,m.Z)(null==u?void 0:u.style,X),hovered:(0,m.Z)(null==u?void 0:u.hovered,Y),selected:(0,m.Z)(null==u?void 0:u.selected,F)},edgeDefault:{style:(0,m.Z)(null==c?void 0:c.style,N),hovered:(0,m.Z)(null==c?void 0:c.hovered,A),selected:(0,m.Z)(null==c?void 0:c.selected,B)},waypoint:{style:(0,m.Z)(null==d?void 0:d.style,$),hovered:(0,m.Z)(null==d?void 0:d.hovered,G),selected:(0,m.Z)(null==d?void 0:d.selected,V)}};return e&&((0,s.v$)(e).forEach((function(e){return l.nodeStyles[e.id]=_e(l,e.id,!1,!1)})),(0,s.W8)(e).forEach((function(e){return l.edgeStyles[e.id]=xe(l,e.id,!1,!1)}))),l};function xe(e,t,n,r){var o=function(e){return e.edgeDefault}(e),i=(0,m.Z)(function(e,t){return e.edgeDefs.style[t]}(e,t),o.style),s=n?(0,m.Z)(function(e,t){return e.edgeDefs.hovered[t]}(e,t),o.hovered):{},a=r?(0,m.Z)(function(e,t){return e.edgeDefs.selected[t]}(e,t),o.selected):{};return(0,H.Z)({},i,a,s)}function _e(e,t,n,r){var o=function(e){return e.nodeDefault}(e),i=(0,m.Z)(function(e,t){return e.nodeDefs.style[t]}(e,t),o.style),s=n?(0,m.Z)(function(e,t){return e.nodeDefs.hovered[t]}(e,t),o.hovered):{},a=r?(0,m.Z)(function(e,t){return e.nodeDefs.selected[t]}(e,t),o.selected):{};return(0,H.Z)({},i,a,s)}var De=be(),we=(0,a.oM)({name:"styles",initialState:De,reducers:{edgeStyleDefsChanged:function(e,t){var n=t.payload,r=n.style,o=n.hovered,i=n.selected,s=n.selectionState,a=(0,y.Z)(e.edgeStyles),u=ne(s),c=new Set(oe(s));e.edgeDefs.style=r,e.edgeDefs.hovered=o,e.edgeDefs.selected=i,a.forEach((function(t){var n=c.has(t),r=t===u;e.edgeStyles[t]=xe(e,t,r,n)}))},nodeStyleDefsChanged:function(e,t){var n=t.payload,r=n.style,o=n.hovered,i=n.selected,s=n.selectionState,a=(0,y.Z)(e.nodeStyles),u=re(s),c=new Set(ie(s));e.nodeDefs.style=r,e.nodeDefs.hovered=o,e.nodeDefs.selected=i,a.forEach((function(t){var n=c.has(t),r=t===u;e.nodeStyles[t]=_e(e,t,r,n)}))}},extraReducers:function(e){e.addCase(D,(function(e,t){var n=(0,s.v$)(t.payload),r=(0,s.W8)(t.payload);n.forEach((function(t){t.id in e.nodeStyles||(e.nodeStyles[t.id]=_e(e,t.id,!1,!1))})),r.forEach((function(t){t.id in e.edgeStyles||(e.edgeStyles[t.id]=xe(e,t.id,!1,!1))}))})),e.addCase(ue,(function(e,t){var n=t.payload,r=n.nodes,o=n.edges;r&&r.updatedIDs.forEach((function(t,n){var o=r.updatedHoverStates[n],i=r.updatedSelectionStates[n];e.nodeStyles[t]=_e(e,t,o,i)})),o&&o.updatedIDs.forEach((function(t,n){var r=o.updatedHoverStates[n],i=o.updatedSelectionStates[n];e.edgeStyles[t]=xe(e,t,r,i)}))}))}}),Ie=(me=we.actions).edgeStyleDefsChanged,je=me.nodeStyleDefsChanged;const Ze=we.reducer;(0,a.xC)({reducer:{graph:j,labels:P,paths:ee,selection:ce,shapes:ye,styles:Ze},devTools:!1,middleware:[]});var Oe=function(e,t){return p(e.graph,t)},Me=function(e,t){return v(e.graph,t)},ke=function(e,t){return g(e.graph,t)},Pe=function(e){return function(e){return e.spreadMatrix}(e.graph)},Ee=function(e,t){return E(e.paths,t)},Ce=function(e){return function(e){return e.dragOffset}(e.selection)},Te=function(e){return ne(e.selection)},He=function(e){return re(e.selection)},We=function(e){return function(e){return e.hoveredWaypointID}(e.selection)},ze=function(e){return oe(e.selection)},Le=function(e){return ie(e.selection)},Ne=function(e){return function(e){return e.waypointIDs}(e.selection)},Ae=function(e){return function(e){return e.waypoint}(e.styles)},Be=n(2425),Re=(0,c.createSelector)((function(e){return function(e){return e.edgeStyles}(e.styles)}),(function(e){return(0,Be.Z)(e).map((function(e){return{id:l(e),color:d(e),size:10}}))})),Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Ye=(0,o.memo)((function(e){var t=e.id,n=e.color,o=e.size,i=o/2;return(0,r.jsx)("marker",Xe({id:t,viewBox:"0 0 "+o+" "+o,refX:0,refY:i,markerWidth:o,markerHeight:o,markerUnits:"userSpaceOnUse",orient:"auto",fill:n},{children:(0,r.jsx)("path",{d:"M 0 0 L "+o+" "+i+" L 0 "+o+" z"},void 0)}),void 0)}));var Fe=function(){return(Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$e=function(){var e=(0,u.v9)(Re);return(0,r.jsxs)("defs",{children:[e.map((function(e,t){return(0,r.jsx)(Ye,Fe({},e),t)})),(0,r.jsx)(Ye,{id:"arrow",size:10,color:"#333"},void 0)]},void 0)},Ge=n(8641),Ve=(0,c.createSelector)([function(e){return function(e){return e.edgeIDs}(e.graph)},ze],(function(e,t){return[(0,Ge.Z)(e,t),t]})),Ue=n(4184),Ke=n.n(Ue),qe=n(4692),Je=function(e,t){return e(t)},Qe=n(9142),et=n(7925),tt=n(694),nt=n(5078),rt=n(6540);function ot(e,t){var n=Le(e);return t.map((function(e){return(0,et.Z)(n,e)}))}function it(e,t){var n=Ne(e);return t.map((function(e){return(0,et.Z)(n,e)}))}var st=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function at(e,t,n){var r=t(e),o=n(e);return r.length?{selection:[],hover:o,updatedIDs:r,updatedSelectionStates:r.map((function(e){return!1})),updatedHoverStates:r.map((function(e){return e===o}))}:void 0}function ut(e){return at(e,ze,Te)}function ct(e){return at(e,Le,He)}function dt(e){return at(e,Ne,We)}function lt(e){return{nodes:ht(e,null),edges:pt(e,null),waypoints:vt(e,null)}}function ft(e,t){var n=Le(e),r=He(e),o=(0,Qe.Z)(t,(function(e){return(0,et.Z)(n,e)})),i=o[0],s=o[1],a=(0,Ge.Z)(n,i);return{nodes:{selection:t,hover:r,updatedIDs:st(st([],s),a),updatedSelectionStates:st(st([],s.map((function(e){return!0}))),a.map((function(e){return!1}))),updatedHoverStates:st(st([],s.map((function(e){return e===r}))),a.map((function(e){return e===r})))},edges:ut(e),waypoints:dt(e)}}function pt(e,t){var n=Te(e);if(n!==t){var r=(0,m.Z)(t,n),o=ze(e);return{selection:o,hover:t,updatedIDs:[r],updatedSelectionStates:[(0,et.Z)(o,r)],updatedHoverStates:[null!==t]}}}function ht(e,t){var n=He(e);if(n!==t){var r=(0,m.Z)(t,n),o=Le(e);return{selection:o,hover:t,updatedIDs:[r],updatedSelectionStates:[(0,et.Z)(o,r)],updatedHoverStates:[null!==t]}}}function vt(e,t){var n=We(e);if(n!==t){var r=(0,m.Z)(t,n),o=Ne(e);return{selection:o,hover:t,updatedIDs:[r],updatedSelectionStates:[(0,et.Z)(o,r)],updatedHoverStates:[null!==t]}}}function gt(e,t){var n=Le(e),r=ot(e,t);if((0,tt.Z)(r))return{nodes:ct(e)};var o=(0,nt.Z)((0,rt.Z)(t,r).map((function(e){var t=e[0];return e[1]?void 0:t}))),i=He(e);return{nodes:{selection:st(st([],n),o),hover:i,updatedIDs:o,updatedSelectionStates:o.map((function(e){return!0})),updatedHoverStates:o.map((function(e){return e===i}))}}}const yt=function(e){return function(t,n,r,o){if(0===o.button)if(o.altKey){e.dragStart(o);var i=Oe(t,r),s=[i.source,i.target],a=ot(t,s);o.shiftKey?n(ue(gt(t,s))):(0,tt.Z)(a)||n(ue(ft(t,s)))}else o.shiftKey?n(ue(function(e,t){var n=ze(e),r=function(e,t){var n=ze(e);return t.map((function(e){return(0,et.Z)(n,e)}))}(e,t);if((0,tt.Z)(r))return{edges:ut(e)};var o=(0,nt.Z)((0,rt.Z)(t,r).map((function(e){var t=e[0];return e[1]?void 0:t}))),i=Te(e);return{edges:{selection:st(st([],n),o),hover:i,updatedIDs:o,updatedSelectionStates:o.map((function(e){return!0})),updatedHoverStates:o.map((function(e){return e===i}))}}}(t,[r]))):n(ue(function(e,t){var n=ze(e),r=Te(e),o=(0,Qe.Z)(t,(function(e){return(0,et.Z)(n,e)})),i=o[0],s=o[1],a=(0,Ge.Z)(n,i);return{nodes:ct(e),edges:{selection:t,hover:r,updatedIDs:st(st([],s),a),updatedSelectionStates:st(st([],s.map((function(e){return!0}))),a.map((function(e){return!1}))),updatedHoverStates:st(st([],s.map((function(e){return e===r}))),a.map((function(e){return e===r})))},waypoints:dt(e)}}(t,[r])))}};var mt=(0,a.PH)("mouse/downed"),St=(0,a.PH)("mouse/downedEdge"),bt=(0,a.PH)("mouse/downedNode"),xt=(0,a.PH)("mouse/downedWaypoint"),_t=(0,a.PH)("mouse/enteredEdge"),Dt=(0,a.PH)("mouse/enteredNode"),wt=(0,a.PH)("mouse/enteredWaypoint"),It=(0,a.PH)("mouse/leftEdge"),jt=(0,a.PH)("mouse/leftNode"),Zt=(0,a.PH)("mouse/leftWaypoint"),Ot=(0,a.PH)("mouse/moved"),Mt=(0,a.PH)("mouse/upped"),kt=(0,a.PH)("mouse/wheeled"),Pt=(0,a.PH)("mouse/spreadTargetSet"),Et=function(e,t){var n=(0,qe.Z)(Je,16,{leading:!0,trailing:!1}),r=!!e.interactions,o=null,i=function(e){o&&o.setAttribute("transform",(0,S.BB)(e))},s=function(e){return function(t,n,r){e.dragStart(r);var o=Le(t),i=ze(t),s=Ne(t);(o.length||i.length||s.length)&&n(ue(function(e){return{nodes:ct(e),edges:ut(e),waypoints:dt(e)}}(t)))}}(t),a=yt(t),u=function(e){return function(t,n,r,o){if(0===o.button){e.dragStart(o);var i=ot(t,[r]);o.shiftKey?n(ue(gt(t,[r]))):i[0]||n(ue(ft(t,[r])))}}}(t),c=function(e){return function(t,n,r,o){if(0===o.button){e.dragStart(o);var i=it(t,[r]);o.shiftKey?n(ue(function(e,t){var n=Ne(e),r=it(e,t);if((0,tt.Z)(r))return{waypoints:dt(e)};var o=(0,nt.Z)((0,rt.Z)(t,r).map((function(e){var t=e[0];return e[1]?void 0:t}))),i=We(e);return{waypoints:{selection:st(st([],n),o),hover:i,updatedIDs:o,updatedSelectionStates:o.map((function(e){return!0})),updatedHoverStates:o.map((function(e){return e===i}))}}}(t,[r]))):i[0]||n(ue(function(e,t){var n=Ne(e),r=We(e),o=(0,Qe.Z)(t,(function(e){return(0,et.Z)(n,e)})),i=o[0],s=o[1],a=(0,Ge.Z)(n,i);return{nodes:ct(e),edges:ut(e),waypoints:{selection:t,hover:r,updatedIDs:st(st([],s),a),updatedSelectionStates:st(st([],s.map((function(e){return!0}))),a.map((function(e){return!1}))),updatedHoverStates:st(st([],s.map((function(e){return e===r}))),a.map((function(e){return e===r})))}}}(t,[r])))}}}(t),d=function(e){return function(t,n,r,o){e.isDragging()||n(ue(o?function(e,t){return{nodes:ht(e,null),edges:pt(e,t),waypoints:vt(e,null)}}(t,o):lt(t)))}}(t),l=function(e){return function(t,n,r,o){e.isDragging()||n(ue(o?function(e,t){return{nodes:ht(e,t),edges:pt(e,null),waypoints:vt(e,null)}}(t,o):lt(t)))}}(t),f=function(e){return function(t,n,r,o){e.isDragging()||n(ue(o?function(e,t){return{nodes:ht(e,null),edges:pt(e,null),waypoints:vt(e,t)}}(t,o):lt(t)))}}(t),p=function(e,t,n){return function(r,o,i){e.isDragging()&&(function(e){return function(e){return e.nodeIDs.length||e.waypointIDs.length}(e.selection)}(r)?t(o,ae(e.dragOffset(i))):n(e.translate(i)))}}(t,n,i),h=function(e,t,n){var r=n;return Object.assign((function(n,o,i){if(t.cancel(),e.isDragging()){var s=e.dragEnd(i);if(o(ae({x:0,y:0})),r){var a=Le(n);!a.length||0===s.x&&0===s.y||r(a,s)}else o(w({nodeIDs:Le(n),offset:s})),o(Q({waypointIDs:Ne(n),offset:s}))}}),{setOnSelectionDidMove:function(e){r=e}})}(t,n,e.onSelectionDidMove),v=function(e,t){return function(n,r,o){o.shiftKey?r(I(e.spread(o))):t(e.zoom(o))}}(t,i),g=function(e){return function(t,n,r){n(I(e.setSpread(r)))}}(t),y=function(e){return function(t){return function(n){var o=n.payload,i=e.getState(),y=r;Ot.match(n)?y&&p(i,t,o):kt.match(n)?y&&v(i,t,o):mt.match(n)?y&&s(i,t,o):St.match(n)?y&&a(i,t,o.edgeID,o.event):bt.match(n)?y&&u(i,t,o.nodeID,o.event):xt.match(n)?y&&c(i,t,o.waypointID,o.event):_t.match(n)?y&&d(i,t,o.edgeID,o.edgeID):Dt.match(n)?y&&l(i,t,o.nodeID,o.nodeID):wt.match(n)?y&&f(i,t,o.waypointID,o.waypointID):It.match(n)?y&&d(i,t,o.edgeID,null):jt.match(n)?y&&l(i,t,o.nodeID,null):Zt.match(n)?y&&f(i,t,o.waypointID,null):Mt.match(n)?y&&h(i,t,o):Pt.match(n)?y&&g(i,t,o):t(n)}}};return y.setInteractions=function(e){r=e},y.setOnSelectionDidMove=function(e){h.setOnSelectionDidMove(e)},y.setZoom=function(e){i(t.setZoom(e))},y.setZoomElement=function(e){o=e},y},Ct=n(5879),Tt=n.n(Ct),Ht=n(3684);function Wt(e){return e.stroke&&"none"!==e.stroke?+(0,m.Z)(e.strokeWidth,1):0}function zt(e,t){return{a:e,b:t}}function Lt(e,t){var n=e.a,r=e.b,o=t.a,i=t.b,s=((i.x-o.x)*(n.y-o.y)-(i.y-o.y)*(n.x-o.x))/((i.y-o.y)*(r.x-n.x)-(i.x-o.x)*(r.y-n.y));return{x:n.x+s*(r.x-n.x),y:n.y+s*(r.y-n.y)}}function Nt(e,t,n,r,o){switch(n.shape){case"circle":return function(e,t,n,r,o){return(0,T.Iu)(e,(0,T.EU)(t),n+r/2+o)}(e,t,+n.radius,r,o);case"rectangle":return function(e,t,n,r,o,i){var s,a=(0,T.EU)(t),u=n+o+2*Math.abs(Math.cos(a))*i,c=r+o+2*Math.abs(Math.sin(a))*i,d=u/2,l=c/2,f=(0,T.Iu)(e,a,Math.max(u,c)),p=zt(e,f),h=((s=p).a.y-s.b.y)/(s.a.x-s.b.x),v=h*d,g=l/h,y={x:e.x+d,y:e.y+l},m={x:e.x-d,y:e.y+l},S={x:e.x+d,y:e.y-l},b={x:e.x-d,y:e.y-l};if(-l<=v&&v<=l){if(e.x<f.x)return Lt(zt(y,S),p);if(e.x>f.x)return Lt(zt(m,b),p)}if(-d<=g&&g<=d){if(e.y<f.y)return Lt(zt(m,y),p);if(e.y>f.y)return Lt(zt(b,S),p)}return e}(e,t,+n.width,+n.height,r,o)}return e}var At=function(e,t){return t},Bt=Tt()(Me,Le,(function(e,t){return(0,et.Z)(t,e)}))(At),Rt=(0,Ct.createCachedSelector)((function(e,t){return function(e,t){return h(e,v(e,t))}(e.graph,t)}),Pe,(function(e,t){return(0,S.hC)(t,e)}))(At),Xt=Tt()(Rt,Bt,Ce,(function(e,t,n){return t?(0,T.IH)(e,n):e}))(At),Yt=Tt()(ke,Le,(function(e,t){return(0,et.Z)(t,e)}))(At),Ft=Tt()((function(e,t){return function(e,t){return h(e,g(e,t))}(e.graph,t)}),Pe,(function(e,t){return(0,S.hC)(t,e)}))(At),$t=Tt()(Ft,Yt,Ce,(function(e,t,n){return t?(0,T.IH)(e,n):e}))(At),Gt=n(1429),Vt=[],Ut=Tt()((function(e,t){return C(e.paths,t)}),(function(e){return(0,m.Z)(e,Vt)}))(At),Kt=Tt()(At,Ut,Ne,(function(e,t,n){return t.map((function(t,r){return(0,et.Z)(n,W(e,r))}))}))(At),qt=Tt()(Ut,Pe,(function(e,t){return(0,S.qU)(t,e)}))(At),Jt=Tt()(qt,Kt,Ce,(function(e,t,n){return(0,Gt.Z)(t)?e.map((function(e,r){return t[r]?(0,T.IH)(e,n):e})):e}))(At),Qt=Tt()(Xt,$t,Jt,(function(e,t){return Ee(e,t).sourcePort}),(function(e,t){return le(e.shapes,Me(e,t))}),(function(e,t){return fe(e.shapes,Me(e,t))}),(function(e,t){return Se(e.styles,Oe(e,t).source)}),(function(e,t,n,r,o,i,s){if(r)return(0,T.IH)(e,i[r]);var a=(0,m.Z)(n[0],t);return Nt(e,(0,T.$X)(a,e),o,Wt(s),0)}))(At),en=Tt()(Xt,$t,Jt,(function(e,t){return Ee(e,t).targetPort}),(function(e,t){return le(e.shapes,ke(e,t))}),(function(e,t){return fe(e.shapes,ke(e,t))}),(function(e,t){return Se(e.styles,Oe(e,t).target)}),(function(e,t,n,r,o,i,s){if(r)return(0,T.IH)(t,i[r]);var a=(0,m.Z)(n[n.length-1],e);return Nt(t,(0,T.$X)(a,t),o,Wt(s),0)}))(At),tn=function(){return(tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const nn=(0,o.memo)((function(e){return(0,r.jsx)("text",tn({x:e.x,y:e.y,style:e.style},e.props,{children:e.text}),void 0)}));var rn=function(){return(rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const on=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.v9)((function(e){return function(e,t){return function(e,t){return e.edgeLabels[t]}(e.labels,t)}(e,t)})),o=(0,u.v9)((function(e){return Qt(e,t)})),i=(0,u.v9)((function(e){return en(e,t)}));if(!n)return null;var s=(0,T.Y8)(o,i);return(0,r.jsx)(r.Fragment,{children:n.map((function(e,t){return(0,r.jsx)(nn,rn({x:s.x,y:s.y},e),t)}))},void 0)}));var sn=n(3639),an=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},un=Tt()(Qt,Jt,en,(function(e,t,n){return an(an([e],t),[n])}))(At),cn=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};const dn=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.v9)((function(e){return Ee(e,t)})),i=(0,u.v9)((function(e){return function(e,t){return function(e,t){return e.edgeStyles[t]}(e.styles,t)}(e,t)})),s=(0,u.v9)((function(e){return un(e,t)})),a=(0,o.useRef)(null),c=(0,o.useRef)(null),d=(0,o.useMemo)((function(){return(0,sn.Z)(i,"stroke","strokeWidth")}),[i]),f=(0,o.useMemo)((function(){return function(e){var t=(0,Ht.jvg)().x((function(e){return e.x})).y((function(e){return e.y}));switch(e.type){case"bspline":t.curve(Ht.$0Z);break;case"bundle":t.curve(Ht.tFB.beta((0,m.Z)(e.beta,.85)));break;case"cardinal":t.curve(Ht.YY7.tension((0,m.Z)(e.tension,0)));break;case"catmullrom":t.curve(Ht.zgE.alpha((0,m.Z)(e.alpha,.5)));break;case"line":t.curve(Ht.c_6);break;case"monotonex":t.curve(Ht.FdL);break;case"monotoney":t.curve(Ht.ak_);break;case"natural":t.curve(Ht.SxZ);break;case"step":t.curve(Ht.eA_);break;case"stepafter":t.curve(Ht.jsv);break;case"stepbefore":t.curve(Ht.iJ);break;default:t.curve(Ht.c_6)}return t}(n)}),[n]),p=(0,o.useMemo)((function(){return(0,m.Z)(f(s),"")}),[f,s]);return(0,o.useLayoutEffect)((function(){var e=a.current,t=c.current;if(e&&t){var n=e.getTotalLength(),r=e.getPointAtLength(n-10);t.setAttribute("d",(0,m.Z)(f(cn(cn([],s.slice(0,-1)),[r])),""))}})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{ref:c,style:i,markerEnd:"url(#"+l(i)+")"},void 0),(0,r.jsx)("path",{ref:a,d:p,style:d,stroke:"transparent",strokeWidth:11},void 0)]},void 0)})),ln=(0,o.memo)((function(e){var t=e.waypointID,n=e.waypoint,i=e.selected,s=(0,u.I0)(),a=(0,o.useState)(!1),c=a[0],d=a[1],l=(0,u.v9)(Ae),f=(0,o.useMemo)((function(){return function(e,t,n){return(0,H.Z)({},e.style,t?e.selected:{},n?e.hovered:{})}(l,i,c)}),[l,i,c]),p=(0,o.useCallback)((function(e){e.stopPropagation(),s(xt({waypointID:t,event:e.nativeEvent}))}),[s]),h=(0,o.useCallback)((function(e){d(!0),e.stopPropagation(),s(wt({waypointID:t,event:e.nativeEvent}))}),[s]),v=(0,o.useCallback)((function(e){d(!1),s(Zt({waypointID:t,event:e.nativeEvent}))}),[s]);return(0,r.jsx)("circle",{cx:n.x,cy:n.y,r:3,style:f,onMouseDown:p,onMouseEnter:h,onMouseLeave:v},void 0)}));var fn=function(){return(fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const pn=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.v9)((function(e){return Jt(e,t)})),o=(0,u.v9)((function(e){return Kt(e,t)}));return n&&0!==n.length?(0,r.jsx)("g",fn({className:"waypoints"},{children:n.map((function(e,n){return(0,r.jsx)(ln,{waypointID:W(t,n),waypoint:e,selected:o[n]},n)}))}),void 0):null}));var hn=function(){return(hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const vn=(0,o.memo)((function(e){var t=e.edgeID,n=(0,u.I0)(),i=(0,u.v9)((function(e){return Te(e)===t})),s=(0,o.useCallback)((function(e){n(St({edgeID:t,event:e.nativeEvent}))}),[]),a=(0,o.useCallback)((function(e){n(_t({edgeID:t,event:e.nativeEvent}))}),[]),c=(0,o.useCallback)((function(e){n(It({edgeID:t,event:e.nativeEvent}))}),[]),d=(0,o.useMemo)((function(){return Ke()("edge",{hovered:i})}),[i]);return(0,r.jsxs)("g",hn({id:t,className:d,onMouseDown:s,onMouseEnter:a,onMouseLeave:c},{children:[(0,r.jsx)(dn,{edgeID:t},void 0),(0,r.jsx)(pn,{edgeID:t},void 0),(0,r.jsx)(on,{edgeID:t},void 0)]}),void 0)}));var gn=function(){return(gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const yn=(0,o.memo)((function(e){var t=e.edgeIDs;return(0,r.jsx)("g",gn({className:"selected"},{children:t.map((function(e){return(0,r.jsx)(vn,{edgeID:e},e)}))}),void 0)}));var mn=function(){return(mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Sn=(0,o.memo)((function(){var e=(0,u.v9)(Ve),t=e[0],n=e[1];return(0,r.jsxs)("g",mn({className:"edges"},{children:[t.map((function(e){return(0,r.jsx)(vn,{edgeID:e},e)})),(0,r.jsx)(yn,{edgeIDs:n},void 0)]}),void 0)}));var bn=(0,c.createSelector)([function(e){return function(e){return e.nodeIDs}(e.graph)},Le],(function(e,t){return[(0,Ge.Z)(e,t),t]})),xn=function(){return(xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const _n=(0,o.memo)((function(e){var t=e.nodeID,n=(0,u.v9)((function(e){return function(e,t){return function(e,t){return e.nodeLabels[t]}(e.labels,t)}(e,t)}));return n?(0,r.jsx)(r.Fragment,{children:n.map((function(e,t){return(0,r.jsx)(nn,xn({},e),t)}))},void 0):null})),Dn=(0,o.memo)((function(e){var t=e.radius,n=e.style;return(0,r.jsx)("circle",{r:t,style:n},void 0)})),wn=(0,o.memo)((function(e){var t=e.width,n=e.height,o=e.style,i=+t,s=+n;return(0,r.jsx)("rect",{x:-i/2,y:-s/2,width:i,height:s,style:o},void 0)}));var In=function(){return(In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const jn=(0,o.memo)((function(e){var t=e.nodeID,n=(0,u.v9)((function(e){return function(e,t){return le(e.shapes,t)}(e,t)})),o=(0,u.v9)((function(e){return function(e,t){return Se(e.styles,t)}(e,t)}));switch(n.shape){case"circle":return(0,r.jsx)(Dn,In({style:o},n),void 0);case"rectangle":return(0,r.jsx)(wn,In({style:o},n),void 0)}return null}));var Zn=function(){return(Zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const On=(0,o.memo)((function(e){var t=e.nodeID,n=(0,u.I0)(),i=(0,u.v9)((function(e){return function(e,t){return h(e.graph,t)}(e,t)})),s=(0,u.v9)((function(e){return He(e)===t})),a=(0,u.v9)(Pe),c=(0,o.useMemo)((function(){return Ke()("node",{hovered:s})}),[s]),d=(0,o.useMemo)((function(){var e=(0,S.hC)(a,i);return"translate("+e.x+" "+e.y+")"}),[i.x,i.y,a]),l=(0,o.useCallback)((function(e){n(bt({nodeID:t,event:e.nativeEvent}))}),[]),f=(0,o.useCallback)((function(e){n(Dt({nodeID:t,event:e.nativeEvent}))}),[]),p=(0,o.useCallback)((function(t){n(jt({nodeID:e.nodeID,event:t.nativeEvent}))}),[]);return(0,r.jsxs)("g",Zn({id:t,transform:d,className:c,onMouseDown:l,onMouseEnter:f,onMouseLeave:p},{children:[(0,r.jsx)(jn,{nodeID:t},void 0),(0,r.jsx)(_n,{nodeID:t},void 0)]}),void 0)}));var Mn=function(){return(Mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const kn=(0,o.memo)((function(e){var t=(0,u.v9)(Ce);return(0,r.jsx)("g",Mn({className:"selected",transform:"translate("+t.x+" "+t.y+")"},{children:e.nodeIDs.map((function(e){return(0,r.jsx)(On,{nodeID:e,selected:!0},e)}))}),void 0)}));var Pn=function(){return(Pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const En=(0,o.memo)((function(){var e=(0,u.v9)(bn),t=e[0],n=e[1];return(0,r.jsxs)("g",Pn({className:"nodes"},{children:[t.map((function(e){return(0,r.jsx)(On,{nodeID:e,selected:!1},e)})),(0,r.jsx)(kn,{nodeIDs:n},void 0)]}),void 0)}));var Cn;!function(e){e.Node="node",e.Edge="edge",e.Waypoint="waypoint"}(Cn||(Cn={}));var Tn=function(){function e(e,t){this._dragging=!1,this._dragStart={x:0,y:0},this._spreadTransform=(0,S.yR)(),this._spreadTransformInv=(0,S.SO)(this._spreadTransform),this._zoomTransform=(0,S.yR)(),this._zoomTransformInv=(0,S.SO)(this._zoomTransform),this._hoverTarget=null,this._hoverType=null,this._svg=e,this._scaleFactor=t,this._pt=e.createSVGPoint()}return e.prototype.dragEnd=function(e){this._dragging=!1;var t=(0,S.vs)(this._spreadTransformInv,this._zoomTransformInv);return(0,T.$X)((0,S.hC)(t,Hn(e)),(0,S.hC)(t,this._dragStart))},e.prototype.dragOffset=function(e){return(0,T.$X)((0,S.hC)(this._zoomTransformInv,Hn(e)),(0,S.hC)(this._zoomTransformInv,this._dragStart))},e.prototype.dragStart=function(e){this._dragStart.x=e.clientX,this._dragStart.y=e.clientY,this._dragging=!0},e.prototype.getZoom=function(){return this._zoomTransform},e.prototype.hoverEdge=function(e){this._hoverTarget=e,this._hoverType=Cn.Edge},e.prototype.hoverNode=function(e){this._hoverTarget=e,this._hoverType=Cn.Node},e.prototype.hoverNothing=function(){this._hoverTarget=null,this._hoverType=null},e.prototype.hoverWaypoint=function(e){this._hoverTarget=e,this._hoverType=Cn.Waypoint},e.prototype.hoveredEdgeID=function(){return this._hoverType===Cn.Edge?this._hoverTarget:null},e.prototype.hoveredNodeID=function(){return this._hoverType===Cn.Node?this._hoverTarget:null},e.prototype.hoveredWaypointID=function(){return this._hoverType===Cn.Waypoint?this._hoverTarget:null},e.prototype.isDragging=function(){return this._dragging},e.prototype.setSpread=function(e){return this._spreadTransform=e,this._spreadTransformInv=(0,S.SO)(e),e},e.prototype.setZoom=function(e){return this._zoomTransform=e,this._zoomTransformInv=(0,S.SO)(e),e},e.prototype.translate=function(e){var t=this._toLocalCoordinates(e.clientX,e.clientY),n=this._toLocalCoordinates(e.clientX+e.movementX,e.clientY+e.movementY),r=(0,T.$X)(n,t),o=r.x,i=r.y;return this._zoomTransform=(0,S.vs)([this._zoomTransform,(0,S.Iu)(o,i)]),this._zoomTransform},e.prototype.spread=function(e){if(0===e.deltaX)return this._spreadTransform;var t=e.deltaX<0?this._scaleFactor:1/this._scaleFactor,n=(0,S.hC)((0,S.vs)(this._spreadTransformInv,this._zoomTransformInv),this._toSVGCoordinates(e.clientX,e.clientY)),r=n.x,o=n.y;return this._spreadTransform=(0,S.vs)(this._spreadTransform,(0,S.bA)(t,t,r,o)),this._spreadTransformInv=(0,S.SO)(this._spreadTransform),this._spreadTransform},e.prototype.zoom=function(e){if(0===e.deltaY)return this._zoomTransform;var t=e.deltaY<0?this._scaleFactor:1/this._scaleFactor,n=this._toLocalCoordinates(e.clientX,e.clientY),r=n.x,o=n.y;return this._zoomTransform=(0,S.vs)(this._zoomTransform,(0,S.bA)(t,t,r,o)),this._zoomTransformInv=(0,S.SO)(this._zoomTransform),this._zoomTransform},e.prototype._toLocalCoordinates=function(e,t){return(0,S.hC)(this._zoomTransformInv,this._toSVGCoordinates(e,t))},e.prototype._toSVGCoordinates=function(e,t){var n=this._svg.getScreenCTM();if(n){this._pt.x=e,this._pt.y=t;var r=this._pt.matrixTransform(n.inverse());return{x:r.x,y:r.y}}return{x:e,y:t}},e}();function Hn(e){return{x:e.clientX,y:e.clientY}}var Wn,zn=(Wn=function(e,t){return(Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Wn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ln=function(){return(Ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Nn=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},An=function(e){function t(t){var n=e.call(this,t)||this;n._initializePreloadedState=function(e){return{graph:b(e.graph),labels:O(e.nodeLabels,e.edgeLabels),paths:U(e.edgePaths,e.defaultPath),selection:{edgeIDs:[],nodeIDs:[],waypointIDs:[],hoveredEdgeID:null,hoveredNodeID:null,hoveredWaypointID:null,dragOffset:{x:0,y:0}},shapes:pe(e.nodeShapes,e.defaultShape),styles:be(e.graph,e.nodeStyles,e.nodeStylesHovered,e.nodeStylesSelected,e.edgeStyles,e.edgeStylesHovered,e.edgeStylesSelected)}},n._onMouseDown=function(e){e.target===n.props.svg&&n.store.dispatch(mt(e))},n._onMouseMove=function(e){n.store.dispatch(Ot(e))},n._onMouseUp=function(e){n.store.dispatch(Mt(e))},n._onMouseWheel=function(e){n.store.dispatch(kt(e))},n._setRef=function(e){n.mouse.setZoomElement(e)},n._updateCallbacks=function(e,t){e.onSelectionDidMove!==t.onSelectionDidMove&&n.mouse.setOnSelectionDidMove(t.onSelectionDidMove)},n._updateDefaultPath=function(e,t){e.defaultPath!==t.defaultPath&&n.store.dispatch(J(t.defaultPath))},n._updateDefaultShape=function(e,t){e.defaultShape!==t.defaultShape&&n.store.dispatch(ge(t.defaultShape))},n._updateEdgeStyles=function(e,t,r){var o=e.edgeStyles!==t.edgeStyles,i=e.edgeStylesHovered!==t.edgeStylesHovered,s=e.edgeStylesSelected!==t.edgeStylesSelected;(o||i||s)&&n.store.dispatch(Ie({style:t.edgeStyles||{},hovered:t.edgeStylesHovered||{},selected:t.edgeStylesSelected||{},selectionState:r.selection}))},n._updateInteractionDisabled=function(e,t){e.interactions!==t.interactions&&n.mouse.setInteractions(!!t.interactions)},n._updateGraph=function(e,t){e.graph!==t.graph&&n.store.dispatch(D(t.graph))},n._updateNodeStyles=function(e,t,r){var o=e.nodeStyles!==t.nodeStyles,i=e.nodeStylesHovered!==t.nodeStylesHovered,s=e.nodeStylesSelected!==t.nodeStylesSelected;(o||i||s)&&n.store.dispatch(je({style:t.nodeStyles||{},hovered:t.nodeStylesHovered||{},selected:t.nodeStylesSelected||{},selectionState:r.selection}))},n._updateZoom=function(e,t){e.targetZoom!==t.targetZoom&&t.targetZoom&&n.mouse.setZoom(t.targetZoom),e.targetSpread!==t.targetSpread&&t.targetSpread&&n.store.dispatch(Pt(t.targetSpread))};var r=!1;return n.gesture=new Tn(t.svg,1.035),n.mouse=Et(t,n.gesture),n.store=(0,a.xC)({reducer:{graph:j,labels:P,paths:ee,selection:ce,shapes:ye,styles:Ze},preloadedState:n._initializePreloadedState(t),middleware:Nn([],(0,a.Bx)({immutableCheck:r,serializableCheck:r}).prepend(n.mouse)),devTools:r}),n}return zn(t,e),t.prototype.componentDidMount=function(){this.props.svg.addEventListener("mousedown",this._onMouseDown),this.props.svg.addEventListener("mousemove",this._onMouseMove),this.props.svg.addEventListener("mouseup",this._onMouseUp),this.props.svg.addEventListener("wheel",this._onMouseWheel)},t.prototype.componentDidUpdate=function(e){var t=e,n=this.props,r=this.store.getState();this._updateGraph(t,n),this._updateCallbacks(t,n),this._updateDefaultPath(t,n),this._updateDefaultShape(t,n),this._updateInteractionDisabled(t,n),this._updateNodeStyles(t,n,r),this._updateEdgeStyles(t,n,r),this._updateZoom(t,n)},t.prototype.componentWillUnmount=function(){this.props.svg.removeEventListener("mousedown",this._onMouseDown),this.props.svg.removeEventListener("mousemove",this._onMouseMove),this.props.svg.removeEventListener("mouseup",this._onMouseUp),this.props.svg.removeEventListener("wheel",this._onMouseWheel)},t.prototype.render=function(){return(0,r.jsx)(u.zt,Ln({store:this.store},{children:(0,r.jsxs)("g",Ln({ref:this._setRef},{children:[(0,r.jsx)($e,{},void 0),(0,r.jsx)(Sn,{},void 0),(0,r.jsx)(En,{},void 0)]}),void 0)}),void 0)},t}(o.Component);const Bn=(0,o.memo)(An);var Rn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xn=function(){return(Xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Yn=function(e){function t(t){var n=e.call(this,t)||this;n._resize=function(){var e=n.ref.current;if(e){var t=getComputedStyle(e),r=parseInt(t.getPropertyValue("width")),o=parseInt(t.getPropertyValue("height"));n.state.width===r&&n.state.height===o||n.setState({width:r,height:o})}};var r=function(e,t){for(var n=[{id:"0",x:0,y:0}],r=[],o=0;o++<10;)n.push({id:""+o,x:300*Math.cos(2*o*Math.PI/10),y:300*Math.sin(2*o*Math.PI/10)}),r.push({id:"0:"+o,source:"0",target:""+o}),o-1>0&&r.push({id:o-1+":"+o,source:""+(o-1),target:""+o}),10===o&&r.push({id:o+":1",source:""+o,target:"1"});return(0,s.VW)(n,r)}(),i={};return(0,s.v$)(r).forEach((function(e){i[e.id]=[{text:e.id}]})),n.ref=o.createRef(),n.state={graph:r,nodeLabels:i,width:0,height:0},n}return Rn(t,e),t.prototype.componentDidMount=function(){this._resize()},t.prototype.render=function(){var e=this.state.graph,t=this.state.nodeLabels,n=this.state.width,o=this.state.height,i=this.ref;return(0,r.jsx)("svg",Xn({viewBox:-n/2+" "+-o/2+" "+n+" "+o,preserveAspectRatio:"xMidYMid slice",ref:i},{children:i.current&&(0,r.jsx)(Bn,{graph:e,svg:i.current,nodeLabels:t,interactions:!0},void 0)}),void 0)},t}(o.Component),Fn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=function(){return($n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Gn=function(e){function t(t){var n=e.call(this,t)||this;n._resize=function(){var e=n.ref.current;if(e){var t=getComputedStyle(e),r=parseInt(t.getPropertyValue("width")),o=parseInt(t.getPropertyValue("height"));n.state.width===r&&n.state.height===o||n.setState({width:r,height:o})}},n._onNodeHovered=function(e){},n._onEdgeHovered=function(e){},n.ref=o.createRef();var r=Vn(),i={},a={},u={},c={},d={},l={},f=(0,s.v$)(r),p=(0,s.W8)(r);return f.forEach((function(e){u[e.id]=[{text:e.label,style:{fill:"white",fontFamily:"monospace",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"-0.17em"}},{text:"("+e.sig+")",style:{fill:"#ddd",fontFamily:"monospace",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"0.83em"}}],c[e.id]={fill:"Green"===e.label?"mediumseagreen":"steelblue"},d[e.id]={stroke:"lightsteelblue",strokeWidth:3,cursor:"pointer"},l[e.id]={stroke:"#333",strokeWidth:6}})),p.forEach((function(e){i[e.id]=[{text:e.rel,style:{fill:"#333",fontFamily:"monospace",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"0.33em"}}]})),a["Ship->GreenTransponder"]={type:"natural",waypoints:[{x:-100,y:0}]},n.state={graph:Vn(),width:0,height:0,edgeLabels:i,edgePaths:a,nodeLabels:u,nodeStyles:c,nodeStylesHovered:d,nodeStylesSelected:l},n}return Fn(t,e),t.prototype.componentDidMount=function(){this._resize()},t.prototype.render=function(){var e=this.state,t=e.graph,n=e.width,o=e.height,i=this.ref;return(0,r.jsx)("svg",$n({viewBox:-n/2+" "+-o/2+" "+n+" "+o,preserveAspectRatio:"xMidYMid slice",style:{userSelect:"none"},ref:i},{children:i.current&&(0,r.jsx)(Bn,{graph:t,svg:i.current,interactions:!0,edgeLabels:this.state.edgeLabels,edgePaths:this.state.edgePaths,nodeLabels:this.state.nodeLabels,nodeStyles:this.state.nodeStyles,nodeStylesHovered:this.state.nodeStylesHovered,nodeStylesSelected:this.state.nodeStylesSelected,onNodeHovered:this._onNodeHovered,onEdgeHovered:this._onEdgeHovered},void 0)}),void 0)},t}(o.Component);function Vn(){return(0,s.VW)([{id:"Ship",x:0,y:-150,sig:"Ship",label:"Ship"},{id:"GreenTransponder",x:-300,y:150,sig:"Transponder",label:"Green"},{id:"BlueTransponder",x:0,y:150,sig:"Transponder",label:"Blue"},{id:"BlueStation",x:300,y:150,sig:"Station",label:"Blue"}],[{id:"Ship->GreenTransponder",source:"Ship",target:"GreenTransponder",rel:"transponders"},{id:"Ship->BlueTransponder",source:"Ship",target:"BlueTransponder",rel:"transponders"},{id:"Ship->BlueStation",source:"Ship",target:"BlueStation",rel:"location"}])}var Un=function(){return(Un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const Kn=(0,o.memo)((function(e){var t=(0,o.useRef)(null),n=(0,o.useRef)(null),i=function(e){var t=(0,o.useState)(),n=t[0],r=t[1];return(0,o.useLayoutEffect)((function(){var t=e.current;if(t){r(t.getBoundingClientRect());var n=new ResizeObserver((function(t){t.forEach((function(t){t.target===e.current&&r(t.contentRect)}))}));return n.observe(t),function(){n.unobserve(t)}}}),[e]),n}(t),s=(0,o.useMemo)((function(){return null==i?void 0:i.width}),[i]),a=(0,o.useMemo)((function(){return null==i?void 0:i.height}),[i]),u=(0,o.useMemo)((function(){return s&&a?-s/2+" "+-a/2+" "+s+" "+a:void 0}),[s,a]);return(0,r.jsx)("div",Un({ref:t,style:{width:"100%",height:"100%"}},{children:(0,r.jsx)("svg",Un({ref:n,viewBox:u,preserveAspectRatio:"xMidYMid slice"},{children:n.current&&s&&a&&(0,r.jsx)(Bn,Un({svg:n.current},e),void 0)}),void 0)}),void 0)}));function qn(e,t){var n={};t=(0,m.Z)(t,{fill:"#333",textAnchor:"middle",userSelect:"none",cursor:"pointer"});var r={dy:"0.33em"};return e.forEach((function(e){n[e.id]=[{text:e.id,style:t,props:r}]})),n}var Jn=function(){var e=(0,s.VW)([{id:"A",x:-200,y:0},{id:"B",x:200,y:0}],[{id:"AB",source:"A",target:"B"},{id:"BA",source:"B",target:"A"}]),t=(0,s.v$)(e),n=(0,s.W8)(e),o=qn(t),i=function(e,t,n){var r={},o=function(t){var n=(0,s.Mk)(e,t.source),r=(0,s.Mk)(e,t.target);if(n&&r){var o=(0,T.$X)(r,n),i=(0,T.kE)(o),a=(0,T.mJ)(o),u=(0,T.IH)(n,(0,T.cf)(a,.5*i)),c=(0,T.xq)(a);return(0,T.IH)(u,(0,T.cf)(c,(0,m.Z)(undefined,75)))}return null};return t.forEach((function(e){r[e.id]={type:"bundle",waypoints:(0,nt.Z)([o(e)])}})),r}(e,n),a=qn(n);return i.AB.sourcePort="right",i.AB.targetPort="left",i.BA.sourcePort="left",i.BA.targetPort="right",(0,r.jsx)(Kn,{graph:e,interactions:!0,nodeLabels:o,edgePaths:i,edgeLabels:a},void 0)},Qn=n(3379),er=n.n(Qn),tr=n(262);er()(tr.Z,{insert:"head",singleton:!1}),tr.Z.locals;var nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},rr=function(e){return(0,r.jsx)("div",nr({className:"button-bar"},{children:e.children}),void 0)},or=function(e){return(0,r.jsx)("div",nr({className:Ke()("button",{disabled:e.disabled}),onClick:function(){!0!==e.disabled&&e.onClick()}},{children:e.children}),void 0)},ir=function(){return(0,r.jsx)("div",{className:"separator"},void 0)},sr=n(2023),ar=n.n(sr),ur=function(){return(ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cr=function(){var e=(0,o.useState)((0,s.VW)()),t=e[0],n=e[1],i=(0,o.useState)("0"),a=i[0],u=i[1],c=(0,o.useState)(!1),d=c[0],l=c[1],f=(0,o.useState)({}),p=f[0],h=f[1],v=(0,o.useState)({}),g=v[0],y=v[1],m=(0,o.useState)(),b=m[0],x=m[1],_=(0,o.useState)(),D=_[0],w=_[1],I=(0,o.useState)(!0),j=I[0],Z=I[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(rr,{children:[(0,r.jsx)(or,ur({onClick:function(){u(""+(+a+1)),n((0,s.gz)(t,{id:a,x:800*Math.random()-400,y:800*Math.random()-400})),(0,s.v$)(t).length>0&&l(!0)}},{children:"Add Random Node"}),void 0),(0,r.jsx)(or,ur({onClick:function(){var e=(0,s.v$)(t),r=(0,s.W8)(t),o=e.length,i=r.length,c=o*(o-1);if(o>1&&i<c)for(var d=0;d++<1e3;){var f=dr(e.length),p=f[0],h=f[1],v=e[p],g=e[h];if(!(0,s.kI)(t,v.id,g.id)){u(""+(+a+1)),n((0,s.Z_)(t,{id:a,source:v.id,target:g.id})),i===c-1&&l(!1);break}}},disabled:!d},{children:"Add Random Edge"}),void 0),(0,r.jsx)(ir,{},void 0),(0,r.jsx)(or,ur({onClick:function(){var e={};(0,s.v$)(t).forEach((function(t){e[t.id]={stroke:ar()(),fill:ar()()}})),h(e)}},{children:"Random Node Styles"}),void 0),(0,r.jsx)(or,ur({onClick:function(){var e={};(0,s.W8)(t).forEach((function(t){e[t.id]={stroke:ar()(),fill:"none"}})),y(e)}},{children:"Random Edge Styles"}),void 0),(0,r.jsx)(ir,{},void 0),(0,r.jsx)(or,ur({onClick:function(){x((0,S.yR)())}},{children:"Reset Spread"}),void 0),(0,r.jsx)(or,ur({onClick:function(){w((0,S.yR)())}},{children:"Reset Zoom"}),void 0),(0,r.jsx)(or,ur({onClick:function(){Z(!j)}},{children:(j?"Disable":"Enable")+" Interaction"}),void 0)]},void 0),(0,r.jsx)(Kn,{graph:t,nodeStyles:p,edgeStyles:g,interactions:j,onSelectionDidMove:function(e,r){n((0,s.x9)(t,e,r))},targetSpread:b,targetZoom:D},void 0)]},void 0)};function dr(e){if(e>1){for(var t=Math.floor(e*Math.random()),n=0,r=t;n++<1e3&&r===t;)r=Math.floor(e*Math.random());return[t,r]}throw Error("Not enough indices")}var lr=n(7912);er()(lr.Z,{insert:"head",singleton:!1}),lr.Z.locals;var fr=function(){return(fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pr=n(6373);er()(pr.Z,{insert:"head",singleton:!1}),pr.Z.locals,i.render((0,r.jsx)(o.StrictMode,{children:(0,r.jsx)((function(e){var t=(0,o.useState)(0),n=t[0],i=t[1],s=[[0,Yn],[1,Gn],[2,Jn],[3,cr]],a=s[n][1];return(0,r.jsxs)("div",fr({className:"container"},{children:[(0,r.jsxs)("div",fr({className:"sidebar"},{children:[(0,r.jsx)("div",fr({className:"header"},{children:"Graph SVG Examples"}),void 0),s.map((function(e){var t=e[0],o=(e[1],"button "+(t===n?"selected":""));return(0,r.jsxs)("div",fr({className:o,onClick:function(){return i(t)}},{children:["Example ",t]}),t)}))]}),void 0),(0,r.jsx)("div",fr({className:"example"},{children:(0,r.jsx)(a,{},void 0)}),void 0)]}),void 0)}),{},void 0)},void 0),document.getElementById("root"))}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,o,i]=e[c],a=!0,u=0;u<n.length;u++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(a=!1,i<s&&(s=i));a&&(e.splice(c--,1),t=o())}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[s,a,u]=n,c=0;for(o in a)r.o(a,o)&&(r.m[o]=a[o]);for(u&&u(r),t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[s[c]]=0;r.O()},n=self.webpackChunk_graph_ts_graph_svg=self.webpackChunk_graph_ts_graph_svg||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[868],(()=>r(1944)));o=r.O(o)})();